var ys=e=>{throw TypeError(e)};var Pr=(e,t,r)=>t.has(e)||ys("Cannot "+r);var N=(e,t,r)=>(Pr(e,t,"read from private field"),r?r.call(e):t.get(e)),D=(e,t,r)=>t.has(e)?ys("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),I=(e,t,r,n)=>(Pr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),te=(e,t,r)=>(Pr(e,t,"access private method"),r);var Bt=(e,t,r,n)=>({set _(o){I(e,t,o,r)},get _(){return N(e,t,n)}});import{r as c,j as s,S as Fa,c as $t,a as Zs,R as La,P as F,I as Da,b as A,d as De,u as dr,e as Ft,f as Ct,g as X,h as ne,i as xe,k as Js,l as Qr,A as za,m as Ua,n as en,o as $a,p as Va,q as Ha,s as Wa,F as Ga,D as tn,C as Ba,t as qa,v as Ka,w as rn,x as sn,y as Qa,z as nn,B as on,E as an,G as ln,H as cn,L as dn,J as un,K as Ya,T as Xa,M as Za,N as Ja,O as ws,Q as hn}from"./ui-HpOYMugm.js";import{b as ei,a as ti}from"./vendor-sT__QgY4.js";import{c as ri}from"./supabase-B0jtt-WM.js";import{c as mn}from"./charts-bTnAymAU.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var qt={},Ns;function si(){if(Ns)return qt;Ns=1;var e=ei();return qt.createRoot=e.createRoot,qt.hydrateRoot=e.hydrateRoot,qt}var ni=si();const oi=ti(ni);var ur=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hr=typeof window>"u"||"Deno"in globalThis;function Ne(){}function ai(e,t){return typeof e=="function"?e(t):e}function ii(e){return typeof e=="number"&&e>=0&&e!==1/0}function li(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ir(e,t){return typeof e=="function"?e(t):e}function ci(e,t){return typeof e=="function"?e(t):e}function js(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Yr(i,t.options))return!1}else if(!Dt(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||a&&!a(t))}function Ss(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Lt(t.options.mutationKey)!==Lt(a))return!1}else if(!Dt(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function Yr(e,t){return((t==null?void 0:t.queryKeyHashFn)||Lt)(e)}function Lt(e){return JSON.stringify(e,(t,r)=>Ar(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Dt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Dt(e[r],t[r])):!1}function fn(e,t){if(e===t)return e;const r=Cs(e)&&Cs(t);if(r||Ar(e)&&Ar(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},d=new Set(n);let m=0;for(let u=0;u<i;u++){const h=r?u:a[u];(!r&&d.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,m++):(l[h]=fn(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&m++)}return o===i&&m===o?e:l}return t}function Cs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ar(e){if(!Ps(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ps(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ps(e){return Object.prototype.toString.call(e)==="[object Object]"}function di(e){return new Promise(t=>{setTimeout(t,e)})}function ui(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fn(e,t):t}function hi(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mi(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Xr=Symbol();function pn(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Xr?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var st,Ge,ft,Ws,fi=(Ws=class extends ur{constructor(){super();D(this,st);D(this,Ge);D(this,ft);I(this,ft,t=>{if(!hr&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Ge)||this.setEventListener(N(this,ft))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Ge))==null||t.call(this),I(this,Ge,void 0))}setEventListener(t){var r;I(this,ft,t),(r=N(this,Ge))==null||r.call(this),I(this,Ge,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,st)!==t&&(I(this,st,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,st)=="boolean"?N(this,st):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},st=new WeakMap,Ge=new WeakMap,ft=new WeakMap,Ws),gn=new fi,pt,Be,gt,Gs,pi=(Gs=class extends ur{constructor(){super();D(this,pt,!0);D(this,Be);D(this,gt);I(this,gt,t=>{if(!hr&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,Be)||this.setEventListener(N(this,gt))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Be))==null||t.call(this),I(this,Be,void 0))}setEventListener(t){var r;I(this,gt,t),(r=N(this,Be))==null||r.call(this),I(this,Be,t(this.setOnline.bind(this)))}setOnline(t){N(this,pt)!==t&&(I(this,pt,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,pt)}},pt=new WeakMap,Be=new WeakMap,gt=new WeakMap,Gs),rr=new pi;function gi(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function xi(e){return Math.min(1e3*2**e,3e4)}function xn(e){return(e??"online")==="online"?rr.isOnline():!0}var vn=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bn(e){let t=!1,r=0,n;const o=gi(),a=()=>o.status!=="pending",i=x=>{var v;a()||(p(new vn(x)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},d=()=>{t=!1},m=()=>gn.isFocused()&&(e.networkMode==="always"||rr.isOnline())&&e.canRun(),u=()=>xn(e.networkMode)&&e.canRun(),h=x=>{a()||(n==null||n(),o.resolve(x))},p=x=>{a()||(n==null||n(),o.reject(x))},y=()=>new Promise(x=>{var v;n=j=>{(a()||m())&&x(j)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,a()||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(a())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(h).catch(j=>{var P;if(a())return;const f=e.retry??(hr?0:3),g=e.retryDelay??xi,w=typeof g=="function"?g(r,j):g,S=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,j);if(t||!S){p(j);return}r++,(P=e.onFail)==null||P.call(e,r,j),di(w).then(()=>m()?void 0:y()).then(()=>{t?p(j):b()})})};return{promise:o,status:()=>o.status,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:l,continueRetry:d,canStart:u,start:()=>(u()?b():y().then(b),o)}}var vi=e=>setTimeout(e,0);function bi(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=vi;const a=l=>{t?e.push(l):o(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||i()}return d},batchCalls:l=>(...d)=>{a(()=>{l(...d)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var oe=bi(),nt,Bs,yn=(Bs=class{constructor(){D(this,nt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ii(this.gcTime)&&I(this,nt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hr?1/0:5*60*1e3))}clearGcTimeout(){N(this,nt)&&(clearTimeout(N(this,nt)),I(this,nt,void 0))}},nt=new WeakMap,Bs),xt,vt,ge,ot,J,zt,at,je,Me,qs,yi=(qs=class extends yn{constructor(t){super();D(this,je);D(this,xt);D(this,vt);D(this,ge);D(this,ot);D(this,J);D(this,zt);D(this,at);I(this,at,!1),I(this,zt,t.defaultOptions),this.setOptions(t.options),this.observers=[],I(this,ot,t.client),I(this,ge,N(this,ot).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,I(this,xt,Ni(this.options)),this.state=t.state??N(this,xt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,J))==null?void 0:t.promise}setOptions(t){this.options={...N(this,zt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,ge).remove(this)}setData(t,r){const n=ui(this.state.data,t,this.options);return te(this,je,Me).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){te(this,je,Me).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=N(this,J))==null?void 0:n.promise;return(o=N(this,J))==null||o.cancel(t),r?r.then(Ne).catch(Ne):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,xt))}isActive(){return this.observers.some(t=>ci(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ir(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!li(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,J))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,J))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,ge).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,J)&&(N(this,at)?N(this,J).cancel({revert:!0}):N(this,J).cancelRetry()),this.scheduleGc()),N(this,ge).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,je,Me).call(this,{type:"invalidate"})}async fetch(t,r){var d,m,u,h,p,y,b,x,v,j,f,g;if(this.state.fetchStatus!=="idle"&&((d=N(this,J))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,J))return N(this,J).continueRetry(),N(this,J).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(I(this,at,!0),n.signal)})},a=()=>{const w=pn(this.options,r),P=(()=>{const E={client:N(this,ot),queryKey:this.queryKey,meta:this.meta};return o(E),E})();return I(this,at,!1),this.options.persister?this.options.persister(w,P,this):w(P)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,ot),state:this.state,fetchFn:a};return o(w),w})();(m=this.options.behavior)==null||m.onFetch(l,this),I(this,vt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&te(this,je,Me).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),I(this,J,bn({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onFail:(w,S)=>{te(this,je,Me).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{te(this,je,Me).call(this,{type:"pause"})},onContinue:()=>{te(this,je,Me).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await N(this,J).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(y=(p=N(this,ge).config).onSuccess)==null||y.call(p,w,this),(x=(b=N(this,ge).config).onSettled)==null||x.call(b,w,this.state.error,this),w}catch(w){if(w instanceof vn){if(w.silent)return N(this,J).promise;if(w.revert)return this.setState({...N(this,vt),fetchStatus:"idle"}),this.state.data}throw te(this,je,Me).call(this,{type:"error",error:w}),(j=(v=N(this,ge).config).onError)==null||j.call(v,w,this),(g=(f=N(this,ge).config).onSettled)==null||g.call(f,this.state.data,w,this),w}finally{this.scheduleGc()}}},xt=new WeakMap,vt=new WeakMap,ge=new WeakMap,ot=new WeakMap,J=new WeakMap,zt=new WeakMap,at=new WeakMap,je=new WeakSet,Me=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wi(n.data,this.options),fetchMeta:t.meta??null};case"success":const o={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return I(this,vt,t.manual?o:void 0),o;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,ge).notify({query:this,type:"updated",action:t})})},qs);function wi(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xn(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ni(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ce,Ks,ji=(Ks=class extends ur{constructor(t={}){super();D(this,Ce);this.config=t,I(this,Ce,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??Yr(o,r);let i=this.get(a);return i||(i=new yi({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){N(this,Ce).has(t.queryHash)||(N(this,Ce).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Ce).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Ce).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Ce).get(t)}getAll(){return[...N(this,Ce).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>js(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>js(t,n)):r}notify(t){oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ce=new WeakMap,Ks),Pe,se,it,Ee,$e,Qs,Si=(Qs=class extends yn{constructor(t){super();D(this,Ee);D(this,Pe);D(this,se);D(this,it);this.mutationId=t.mutationId,I(this,se,t.mutationCache),I(this,Pe,[]),this.state=t.state||Ci(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Pe).includes(t)||(N(this,Pe).push(t),this.clearGcTimeout(),N(this,se).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){I(this,Pe,N(this,Pe).filter(r=>r!==t)),this.scheduleGc(),N(this,se).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Pe).length||(this.state.status==="pending"?this.scheduleGc():N(this,se).remove(this))}continue(){var t;return((t=N(this,it))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,d,m,u,h,p,y,b,x,v,j,f,g,w,S,P,E,L;const r=()=>{te(this,Ee,$e).call(this,{type:"continue"})};I(this,it,bn({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,_)=>{te(this,Ee,$e).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{te(this,Ee,$e).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,se).canRun(this)}));const n=this.state.status==="pending",o=!N(this,it).canStart();try{if(n)r();else{te(this,Ee,$e).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=N(this,se).config).onMutate)==null?void 0:i.call(a,t,this));const _=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t));_!==this.state.context&&te(this,Ee,$e).call(this,{type:"pending",context:_,variables:t,isPaused:o})}const C=await N(this,it).start();return await((u=(m=N(this,se).config).onSuccess)==null?void 0:u.call(m,C,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,C,t,this.state.context)),await((b=(y=N(this,se).config).onSettled)==null?void 0:b.call(y,C,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,C,null,t,this.state.context)),te(this,Ee,$e).call(this,{type:"success",data:C}),C}catch(C){try{throw await((f=(j=N(this,se).config).onError)==null?void 0:f.call(j,C,t,this.state.context,this)),await((w=(g=this.options).onError)==null?void 0:w.call(g,C,t,this.state.context)),await((P=(S=N(this,se).config).onSettled)==null?void 0:P.call(S,void 0,C,this.state.variables,this.state.context,this)),await((L=(E=this.options).onSettled)==null?void 0:L.call(E,void 0,C,t,this.state.context)),C}finally{te(this,Ee,$e).call(this,{type:"error",error:C})}}finally{N(this,se).runNext(this)}}},Pe=new WeakMap,se=new WeakMap,it=new WeakMap,Ee=new WeakSet,$e=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),oe.batch(()=>{N(this,Pe).forEach(n=>{n.onMutationUpdate(t)}),N(this,se).notify({mutation:this,type:"updated",action:t})})},Qs);function Ci(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fe,Se,Ut,Ys,Pi=(Ys=class extends ur{constructor(t={}){super();D(this,Fe);D(this,Se);D(this,Ut);this.config=t,I(this,Fe,new Set),I(this,Se,new Map),I(this,Ut,0)}build(t,r,n){const o=new Si({mutationCache:this,mutationId:++Bt(this,Ut)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){N(this,Fe).add(t);const r=Kt(t);if(typeof r=="string"){const n=N(this,Se).get(r);n?n.push(t):N(this,Se).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Fe).delete(t)){const r=Kt(t);if(typeof r=="string"){const n=N(this,Se).get(r);if(n)if(n.length>1){const o=n.indexOf(t);o!==-1&&n.splice(o,1)}else n[0]===t&&N(this,Se).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kt(t);if(typeof r=="string"){const n=N(this,Se).get(r),o=n==null?void 0:n.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var n;const r=Kt(t);if(typeof r=="string"){const o=(n=N(this,Se).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oe.batch(()=>{N(this,Fe).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Fe).clear(),N(this,Se).clear()})}getAll(){return Array.from(N(this,Fe))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ss(r,n))}findAll(t={}){return this.getAll().filter(r=>Ss(t,r))}notify(t){oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ne))))}},Fe=new WeakMap,Se=new WeakMap,Ut=new WeakMap,Ys);function Kt(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Es(e){return{onFetch:(t,r)=>{var u,h,p,y,b;const n=t.options,o=(p=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const m=async()=>{let x=!1;const v=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},j=pn(t.options,t.fetchOptions),f=async(g,w,S)=>{if(x)return Promise.reject();if(w==null&&g.pages.length)return Promise.resolve(g);const E=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};return v(U),U})(),L=await j(E),{maxPages:C}=t.options,_=S?mi:hi;return{pages:_(g.pages,L,C),pageParams:_(g.pageParams,w,C)}};if(o&&a.length){const g=o==="backward",w=g?Ei:Ts,S={pages:a,pageParams:i},P=w(n,S);l=await f(S,P,g)}else{const g=e??a.length;do{const w=d===0?i[0]??n.initialPageParam:Ts(n,l);if(d>0&&w==null)break;l=await f(l,w),d++}while(d<g)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=m}}}function Ts(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ei(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Q,qe,Ke,bt,yt,Qe,wt,Nt,Xs,Ti=(Xs=class{constructor(e={}){D(this,Q);D(this,qe);D(this,Ke);D(this,bt);D(this,yt);D(this,Qe);D(this,wt);D(this,Nt);I(this,Q,e.queryCache||new ji),I(this,qe,e.mutationCache||new Pi),I(this,Ke,e.defaultOptions||{}),I(this,bt,new Map),I(this,yt,new Map),I(this,Qe,0)}mount(){Bt(this,Qe)._++,N(this,Qe)===1&&(I(this,wt,gn.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Q).onFocus())})),I(this,Nt,rr.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Q).onOnline())})))}unmount(){var e,t;Bt(this,Qe)._--,N(this,Qe)===0&&((e=N(this,wt))==null||e.call(this),I(this,wt,void 0),(t=N(this,Nt))==null||t.call(this),I(this,Nt,void 0))}isFetching(e){return N(this,Q).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,qe).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Q).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,Q).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ir(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,Q).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=N(this,Q).get(n.queryHash),a=o==null?void 0:o.state.data,i=ai(t,a);if(i!==void 0)return N(this,Q).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return oe.batch(()=>N(this,Q).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Q).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,Q);oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,Q);return oe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=oe.batch(()=>N(this,Q).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Ne).catch(Ne)}invalidateQueries(e,t={}){return oe.batch(()=>(N(this,Q).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=oe.batch(()=>N(this,Q).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ne)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ne)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,Q).build(this,t);return r.isStaleByTime(Ir(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ne).catch(Ne)}fetchInfiniteQuery(e){return e.behavior=Es(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ne).catch(Ne)}ensureInfiniteQueryData(e){return e.behavior=Es(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rr.isOnline()?N(this,qe).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Q)}getMutationCache(){return N(this,qe)}getDefaultOptions(){return N(this,Ke)}setDefaultOptions(e){I(this,Ke,e)}setQueryDefaults(e,t){N(this,bt).set(Lt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,bt).values()],r={};return t.forEach(n=>{Dt(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,yt).set(Lt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,yt).values()],r={};return t.forEach(n=>{Dt(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Ke).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yr(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xr&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Ke).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Q).clear(),N(this,qe).clear()}},Q=new WeakMap,qe=new WeakMap,Ke=new WeakMap,bt=new WeakMap,yt=new WeakMap,Qe=new WeakMap,wt=new WeakMap,Nt=new WeakMap,Xs),Ri=c.createContext(void 0),Ii=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Ri.Provider,{value:e,children:t}));let Ai={data:""},ki=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ai,Mi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_i=/\/\*[^]*?\*\/|  +/g,Rs=/\n+/g,We=(e,t)=>{let r="",n="",o="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?We(i,a):a+"{"+We(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=We(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=We.p?We.p(a,i):a+":"+i+";")}return r+(t&&o?t+"{"+o+"}":o)+n},Ae={},wn=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+wn(e[r]);return t}return e},Oi=(e,t,r,n,o)=>{let a=wn(e),i=Ae[a]||(Ae[a]=(d=>{let m=0,u=11;for(;m<d.length;)u=101*u+d.charCodeAt(m++)>>>0;return"go"+u})(a));if(!Ae[i]){let d=a!==e?e:(m=>{let u,h,p=[{}];for(;u=Mi.exec(m.replace(_i,""));)u[4]?p.shift():u[3]?(h=u[3].replace(Rs," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][u[1]]=u[2].replace(Rs," ").trim();return p[0]})(e);Ae[i]=We(o?{["@keyframes "+i]:d}:d,r?"":"."+i)}let l=r&&Ae.g?Ae.g:null;return r&&(Ae.g=Ae[i]),((d,m,u,h)=>{h?m.data=m.data.replace(h,d):m.data.indexOf(d)===-1&&(m.data=u?d+m.data:m.data+d)})(Ae[i],t,n,l),i},Fi=(e,t,r)=>e.reduce((n,o,a)=>{let i=t[a];if(i&&i.call){let l=i(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=d?"."+d:l&&typeof l=="object"?l.props?"":We(l,""):l===!1?"":l}return n+o+(i??"")},"");function mr(e){let t=this||{},r=e.call?e(t.p):e;return Oi(r.unshift?r.raw?Fi(r,[].slice.call(arguments,1),t.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):r,ki(t.target),t.g,t.o,t.k)}let Nn,kr,Mr;mr.bind({g:1});let Le=mr.bind({k:1});function Li(e,t,r,n){We.p=t,Nn=e,kr=r,Mr=n}function Ye(e,t){let r=this||{};return function(){let n=arguments;function o(a,i){let l=Object.assign({},a),d=l.className||o.className;r.p=Object.assign({theme:kr&&kr()},l),r.o=/ *go\d+/.test(d),l.className=mr.apply(r,n)+(d?" "+d:"");let m=e;return e[0]&&(m=l.as||e,delete l.as),Mr&&m[0]&&Mr(l),Nn(m,l)}return o}}var Di=e=>typeof e=="function",sr=(e,t)=>Di(e)?e(t):e,zi=(()=>{let e=0;return()=>(++e).toString()})(),jn=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ui=20,Zr="default",Sn=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Sn(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(i=>i.id===o||o===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Zt=[],Cn={toasts:[],pausedAt:void 0,settings:{toastLimit:Ui}},Te={},Pn=(e,t=Zr)=>{Te[t]=Sn(Te[t]||Cn,e),Zt.forEach(([r,n])=>{r===t&&n(Te[t])})},En=e=>Object.keys(Te).forEach(t=>Pn(e,t)),$i=e=>Object.keys(Te).find(t=>Te[t].toasts.some(r=>r.id===e)),fr=(e=Zr)=>t=>{Pn(t,e)},Vi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Hi=(e={},t=Zr)=>{let[r,n]=c.useState(Te[t]||Cn),o=c.useRef(Te[t]);c.useEffect(()=>(o.current!==Te[t]&&n(Te[t]),Zt.push([t,n]),()=>{let i=Zt.findIndex(([l])=>l===t);i>-1&&Zt.splice(i,1)}),[t]);let a=r.toasts.map(i=>{var l,d,m;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((d=e[i.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||Vi[i.type],style:{...e.style,...(m=e[i.type])==null?void 0:m.style,...i.style}}});return{...r,toasts:a}},Wi=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||zi()}),Vt=e=>(t,r)=>{let n=Wi(t,e,r);return fr(n.toasterId||$i(n.id))({type:2,toast:n}),n.id},R=(e,t)=>Vt("blank")(e,t);R.error=Vt("error");R.success=Vt("success");R.loading=Vt("loading");R.custom=Vt("custom");R.dismiss=(e,t)=>{let r={type:3,toastId:e};t?fr(t)(r):En(r)};R.dismissAll=e=>R.dismiss(void 0,e);R.remove=(e,t)=>{let r={type:4,toastId:e};t?fr(t)(r):En(r)};R.removeAll=e=>R.remove(void 0,e);R.promise=(e,t,r)=>{let n=R.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let a=t.success?sr(t.success,o):void 0;return a?R.success(a,{id:n,...r,...r==null?void 0:r.success}):R.dismiss(n),o}).catch(o=>{let a=t.error?sr(t.error,o):void 0;a?R.error(a,{id:n,...r,...r==null?void 0:r.error}):R.dismiss(n)}),e};var Gi=1e3,Bi=(e,t="default")=>{let{toasts:r,pausedAt:n}=Hi(e,t),o=c.useRef(new Map).current,a=c.useCallback((h,p=Gi)=>{if(o.has(h))return;let y=setTimeout(()=>{o.delete(h),i({type:4,toastId:h})},p);o.set(h,y)},[]);c.useEffect(()=>{if(n)return;let h=Date.now(),p=r.map(y=>{if(y.duration===1/0)return;let b=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(b<0){y.visible&&R.dismiss(y.id);return}return setTimeout(()=>R.dismiss(y.id,t),b)});return()=>{p.forEach(y=>y&&clearTimeout(y))}},[r,n,t]);let i=c.useCallback(fr(t),[t]),l=c.useCallback(()=>{i({type:5,time:Date.now()})},[i]),d=c.useCallback((h,p)=>{i({type:1,toast:{id:h,height:p}})},[i]),m=c.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),u=c.useCallback((h,p)=>{let{reverseOrder:y=!1,gutter:b=8,defaultPosition:x}=p||{},v=r.filter(g=>(g.position||x)===(h.position||x)&&g.height),j=v.findIndex(g=>g.id===h.id),f=v.filter((g,w)=>w<j&&g.visible).length;return v.filter(g=>g.visible).slice(...y?[f+1]:[0,f]).reduce((g,w)=>g+(w.height||0)+b,0)},[r]);return c.useEffect(()=>{r.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let p=o.get(h.id);p&&(clearTimeout(p),o.delete(h.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:m,calculateOffset:u}}},qi=Le`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ki=Le`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qi=Le`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yi=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ki} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Qi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Xi=Le`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zi=Ye("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Xi} 1s linear infinite;
`,Ji=Le`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,el=Le`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tl=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ji} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${el} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rl=Ye("div")`
  position: absolute;
`,sl=Ye("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nl=Le`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ol=Ye("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,al=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?c.createElement(ol,null,t):t:r==="blank"?null:c.createElement(sl,null,c.createElement(Zi,{...n}),r!=="loading"&&c.createElement(rl,null,r==="error"?c.createElement(Yi,{...n}):c.createElement(tl,{...n})))},il=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ll=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,cl="0%{opacity:0;} 100%{opacity:1;}",dl="0%{opacity:1;} 100%{opacity:0;}",ul=Ye("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hl=Ye("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ml=(e,t)=>{let r=e.includes("top")?1:-1,[n,o]=jn()?[cl,dl]:[il(r),ll(r)];return{animation:t?`${Le(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Le(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fl=c.memo(({toast:e,position:t,style:r,children:n})=>{let o=e.height?ml(e.position||t||"top-center",e.visible):{opacity:0},a=c.createElement(al,{toast:e}),i=c.createElement(hl,{...e.ariaProps},sr(e.message,e));return c.createElement(ul,{className:e.className,style:{...o,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):c.createElement(c.Fragment,null,a,i))});Li(c.createElement);var pl=({id:e,className:t,style:r,onHeightUpdate:n,children:o})=>{let a=c.useCallback(i=>{if(i){let l=()=>{let d=i.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return c.createElement("div",{ref:a,className:t,style:r},o)},gl=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...o}},xl=mr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qt=16,vl=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:o,toasterId:a,containerStyle:i,containerClassName:l})=>{let{toasts:d,handlers:m}=Bi(r,a);return c.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Qt,left:Qt,right:Qt,bottom:Qt,pointerEvents:"none",...i},className:l,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(u=>{let h=u.position||t,p=m.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),y=gl(h,p);return c.createElement(pl,{id:u.id,key:u.id,onHeightUpdate:m.updateHeight,className:u.visible?xl:"",style:y},u.type==="custom"?sr(u.message,u):o?o(u):c.createElement(fl,{toast:u,position:h}))}))};const bl=void 0,yl=void 0;throw new Error("Missing Supabase environment variables");const fe=ri(bl,yl),Ot={PROFILES:"profiles",EXERCISE_TEMPLATES:"exercise_templates",WORKOUTS:"workouts",WORKOUT_EXERCISES:"workout_exercises",WORKOUT_SESSIONS:"workout_sessions",AI_CHAT_CONVERSATIONS:"ai_chat_conversations",AI_CHAT_MESSAGES:"ai_chat_messages",AI_CHAT_FLOW_STATE:"ai_chat_flow_state",CALENDAR_EVENTS:"calendar_events",CALENDAR_CONNECTIONS:"calendar_connections",FITCRAFT_PLANS:"fitcraft_plans",FITCRAFT_SUBSCRIPTIONS:"fitcraft_subscriptions"},Jr={FITCRAFT_AI_CHAT:"fitcraft-ai-chat",AI_WORKOUT_GENERATOR:"ai-workout-generator",CREATE_SUBSCRIPTION:"create-subscription",STRIPE_WEBHOOK:"stripe-webhook"},Tn=c.createContext(void 0);function wl({children:e}){const[t,r]=c.useState(null),[n,o]=c.useState(null),[a,i]=c.useState(!0);c.useEffect(()=>{let b=!0;async function x(){try{const{data:{user:j},error:f}=await fe.auth.getUser();if(!b)return;if(f){console.error("Error loading user:",f);return}r(j),j&&await l(j.id)}catch(j){console.error("Error in loadUser:",j)}finally{b&&i(!1)}}x();const{data:{subscription:v}}=fe.auth.onAuthStateChange((j,f)=>{if(!b)return;const g=(f==null?void 0:f.user)||null;r(g),g&&j==="SIGNED_IN"?l(g.id):j==="SIGNED_OUT"&&o(null)});return()=>{b=!1,v.unsubscribe()}},[]);const l=async b=>{try{const{data:x,error:v}=await fe.from(Ot.PROFILES).select("*").eq("id",b).maybeSingle();if(v&&v.code!=="PGRST116"){console.error("Error loading profile:",v);return}if(x)o(x);else{const{data:j,error:f}=await fe.from(Ot.PROFILES).insert({id:b,email:(t==null?void 0:t.email)||"",fitness_level:"intermediate",fitness_goals:[],available_equipment:[],medical_conditions:[],injury_limitations:[],target_body_parts:[],subscription_plan:"free",subscription_status:"inactive",total_workouts_completed:0,preferred_workout_time:"morning"}).select().single();f?console.error("Error creating profile:",f):o(j)}}catch(x){console.error("Error in loadProfile:",x)}},y={user:t,profile:n,loading:a,signIn:async(b,x)=>{try{const{data:v,error:j}=await fe.auth.signInWithPassword({email:b,password:x});return j?(R.error(j.message),{error:j}):(R.success("Welcome back!"),{error:null})}catch(v){return console.error("Sign in error:",v),R.error("An unexpected error occurred"),{error:v}}},signUp:async(b,x,v)=>{try{const{data:j,error:f}=await fe.auth.signUp({email:b,password:x,options:{data:v,emailRedirectTo:`${window.location.origin}/auth/callback`}});return f?(R.error(f.message),{error:f}):(R.success("Check your email to verify your account!"),{error:null})}catch(j){return console.error("Sign up error:",j),R.error("An unexpected error occurred"),{error:j}}},signOut:async()=>{try{const{error:b}=await fe.auth.signOut();return b?(R.error(b.message),{error:b}):(r(null),o(null),R.success("Signed out successfully"),{error:null})}catch(b){return console.error("Sign out error:",b),R.error("An unexpected error occurred"),{error:b}}},updateProfile:async b=>{if(!t)return{error:new Error("No user logged in")};try{const{data:x,error:v}=await fe.from(Ot.PROFILES).update({...b,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();return v?(console.error("Error updating profile:",v),R.error("Failed to update profile"),{error:v}):(o(x),R.success("Profile updated successfully"),{error:null})}catch(x){return console.error("Error in updateProfile:",x),R.error("An unexpected error occurred"),{error:x}}},refreshProfile:async()=>{t&&await l(t.id)}};return s.jsx(Tn.Provider,{value:y,children:e})}function ct(){const e=c.useContext(Tn);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Is=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,As=mn,pr=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return As(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(m=>{const u=r==null?void 0:r[m],h=a==null?void 0:a[m];if(u===null)return null;const p=Is(u)||Is(h);return o[m][p]}),l=r&&Object.entries(r).reduce((m,u)=>{let[h,p]=u;return p===void 0||(m[h]=p),m},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,u)=>{let{class:h,className:p,...y}=u;return Object.entries(y).every(b=>{let[x,v]=b;return Array.isArray(v)?v.includes({...a,...l}[x]):{...a,...l}[x]===v})?[...m,h,p]:m},[]);return As(e,i,d,r==null?void 0:r.class,r==null?void 0:r.className)},es="-",Nl=e=>{const t=Sl(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(es);return l[0]===""&&l.length!==1&&l.shift(),Rn(l,t)||jl(i)},getConflictingClassGroupIds:(i,l)=>{const d=r[i]||[];return l&&n[i]?[...d,...n[i]]:d}}},Rn=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Rn(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(es);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},ks=/^\[(.+)\]$/,jl=e=>{if(ks.test(e)){const t=ks.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Sl=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Pl(Object.entries(e.classGroups),r).forEach(([a,i])=>{_r(i,n,a,t)}),n},_r=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Ms(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(Cl(o)){_r(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,i])=>{_r(i,Ms(t,a),r,n)})})},Ms=(e,t)=>{let r=e;return t.split(es).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Cl=e=>e.isThemeGetter,Pl=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,o]}):e,El=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){r.has(a)?r.set(a,i):o(a,i)}}},In="!",Tl=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const d=[];let m=0,u=0,h;for(let v=0;v<l.length;v++){let j=l[v];if(m===0){if(j===o&&(n||l.slice(v,v+a)===t)){d.push(l.slice(u,v)),u=v+a;continue}if(j==="/"){h=v;continue}}j==="["?m++:j==="]"&&m--}const p=d.length===0?l:l.substring(u),y=p.startsWith(In),b=y?p.substring(1):p,x=h&&h>u?h-u:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:i}):i},Rl=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Il=e=>({cache:El(e.cacheSize),parseClassName:Tl(e),...Nl(e)}),Al=/\s+/,kl=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(Al);let l="";for(let d=i.length-1;d>=0;d-=1){const m=i[d],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=r(m);let b=!!y,x=n(b?p.substring(0,y):p);if(!x){if(!b){l=m+(l.length>0?" "+l:l);continue}if(x=n(p),!x){l=m+(l.length>0?" "+l:l);continue}b=!1}const v=Rl(u).join(":"),j=h?v+In:v,f=j+x;if(a.includes(f))continue;a.push(f);const g=o(x,b);for(let w=0;w<g.length;++w){const S=g[w];a.push(j+S)}l=m+(l.length>0?" "+l:l)}return l};function Ml(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=An(t))&&(n&&(n+=" "),n+=r);return n}const An=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=An(e[n]))&&(r&&(r+=" "),r+=t);return r};function _l(e,...t){let r,n,o,a=i;function i(d){const m=t.reduce((u,h)=>h(u),e());return r=Il(m),n=r.cache.get,o=r.cache.set,a=l,l(d)}function l(d){const m=n(d);if(m)return m;const u=kl(d,r);return o(d,u),u}return function(){return a(Ml.apply(null,arguments))}}const W=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},kn=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ol=/^\d+\/\d+$/,Fl=new Set(["px","full","screen"]),Ll=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ul=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$l=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ke=e=>ht(e)||Fl.has(e)||Ol.test(e),ze=e=>Pt(e,"length",Ql),ht=e=>!!e&&!Number.isNaN(Number(e)),Er=e=>Pt(e,"number",ht),It=e=>!!e&&Number.isInteger(Number(e)),Vl=e=>e.endsWith("%")&&ht(e.slice(0,-1)),M=e=>kn.test(e),Ue=e=>Ll.test(e),Hl=new Set(["length","size","percentage"]),Wl=e=>Pt(e,Hl,Mn),Gl=e=>Pt(e,"position",Mn),Bl=new Set(["image","url"]),ql=e=>Pt(e,Bl,Xl),Kl=e=>Pt(e,"",Yl),At=()=>!0,Pt=(e,t,r)=>{const n=kn.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ql=e=>Dl.test(e)&&!zl.test(e),Mn=()=>!1,Yl=e=>Ul.test(e),Xl=e=>$l.test(e),Zl=()=>{const e=W("colors"),t=W("spacing"),r=W("blur"),n=W("brightness"),o=W("borderColor"),a=W("borderRadius"),i=W("borderSpacing"),l=W("borderWidth"),d=W("contrast"),m=W("grayscale"),u=W("hueRotate"),h=W("invert"),p=W("gap"),y=W("gradientColorStops"),b=W("gradientColorStopPositions"),x=W("inset"),v=W("margin"),j=W("opacity"),f=W("padding"),g=W("saturate"),w=W("scale"),S=W("sepia"),P=W("skew"),E=W("space"),L=W("translate"),C=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",M,t],O=()=>[M,t],ye=()=>["",ke,ze],ie=()=>["auto",ht,M],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",M],dt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[ht,M];return{cacheSize:500,separator:":",theme:{colors:[At],spacing:[ke,ze],blur:["none","",Ue,M],brightness:ce(),borderColor:[e],borderRadius:["none","","full",Ue,M],borderSpacing:O(),borderWidth:ye(),contrast:ce(),grayscale:le(),hueRotate:ce(),invert:le(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Vl,ze],inset:U(),margin:U(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:le(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",M]}],container:["container"],columns:[{columns:[Ue]}],"break-after":[{"break-after":dt()}],"break-before":[{"break-before":dt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),M]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",It,M]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",M]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",It,M]}],"grid-cols":[{"grid-cols":[At]}],"col-start-end":[{col:["auto",{span:["full",It,M]},M]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[At]}],"row-start-end":[{row:["auto",{span:[It,M]},M]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",M]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",M]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...ue()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ue(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ue(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",M,t]}],"min-w":[{"min-w":[M,t,"min","max","fit"]}],"max-w":[{"max-w":[M,t,"none","full","min","max","fit","prose",{screen:[Ue]},Ue]}],h:[{h:[M,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[M,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[M,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[M,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ue,ze]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Er]}],"font-family":[{font:[At]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",M]}],"line-clamp":[{"line-clamp":["none",ht,Er]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ke,M]}],"list-image":[{"list-image":["none",M]}],"list-style-type":[{list:["none","disc","decimal",M]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ke,ze]}],"underline-offset":[{"underline-offset":["auto",ke,M]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),Gl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ql]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[ke,M]}],"outline-w":[{outline:[ke,ze]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ke,ze]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ue,Kl]}],"shadow-color":[{shadow:[At]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ue,M]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",M]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",M]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",M]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[It,M]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",M]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",M]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",M]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ke,ze,Er]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Jl=_l(Zl);function T(...e){return Jl(mn(e))}const ec={ECTOMORPH:"ectomorph",MESOMORPH:"mesomorph",ENDOMORPH:"endomorph"},tc={BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced",EXPERT:"expert"},rc={HIIT:"HIIT",CROSSFIT:"CrossFit",STRENGTH:"Strength Training",CARDIO:"Cardio",YOGA:"Yoga",PILATES:"Pilates",BODYWEIGHT:"Bodyweight"},me={WELCOME:1,GOALS:2,BODY_TYPE:3,TIME_AVAILABILITY:4,FREQUENCY:5,EXPERIENCE:6,DURATION:7,EQUIPMENT:8,PLAN_GENERATION:9,PRESENTATION:10,ASSISTANCE:11,REVIEW:12},sc={[me.WELCOME]:"Welcome & Introduction",[me.GOALS]:"Fitness Goals Assessment",[me.BODY_TYPE]:"Body Type Analysis",[me.TIME_AVAILABILITY]:"Time Availability",[me.FREQUENCY]:"Training Frequency",[me.EXPERIENCE]:"Experience Level",[me.DURATION]:"Workout Duration",[me.EQUIPMENT]:"Equipment Available",[me.PLAN_GENERATION]:"Plan Generation",[me.PRESENTATION]:"Workout Presentation",[me.ASSISTANCE]:"Ongoing Assistance",[me.REVIEW]:"Progress Review"};function _n(e){if(e<60)return`${e}m`;const t=Math.floor(e/60),r=e%60;return r>0?`${t}h ${r}m`:`${t}h`}const nc=pr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=c.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const i=n?Fa:"button";return s.jsx(i,{className:T(nc({variant:t,size:r,className:e})),ref:a,...o})});ee.displayName="Button";const Oe=c.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:T("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Oe.displayName="Input";const $=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:T("rounded-xl border bg-card text-card-foreground shadow",e),...t}));$.displayName="Card";const B=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:T("flex flex-col space-y-1.5 p-6",e),...t}));B.displayName="CardHeader";const q=c.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:T("font-semibold leading-none tracking-tight",e),...t}));q.displayName="CardTitle";const re=c.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:T("text-sm text-muted-foreground",e),...t}));re.displayName="CardDescription";const Y=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:T("p-6 pt-0",e),...t}));Y.displayName="CardContent";const oc=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:T("flex items-center p-6 pt-0",e),...t}));oc.displayName="CardFooter";var ts="Tabs",[ac,wu]=$t(ts,[Zs]),On=Zs(),[ic,rs]=ac(ts),Fn=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:d="automatic",...m}=e,u=dr(l),[h,p]=Ft({prop:n,onChange:o,defaultProp:a});return s.jsx(ic,{scope:r,baseId:Ct(),value:h,onValueChange:p,orientation:i,dir:u,activationMode:d,children:s.jsx(F.div,{dir:u,"data-orientation":i,...m,ref:t})})});Fn.displayName=ts;var Ln="TabsList",Dn=c.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=rs(Ln,r),i=On(r);return s.jsx(La,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(F.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});Dn.displayName=Ln;var zn="TabsTrigger",Un=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,i=rs(zn,r),l=On(r),d=Hn(i.baseId,n),m=Wn(i.baseId,n),u=n===i.value;return s.jsx(Da,{asChild:!0,...l,focusable:!o,active:u,children:s.jsx(F.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":m,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...a,ref:t,onMouseDown:A(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:A(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:A(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!o&&h&&i.onValueChange(n)})})})});Un.displayName=zn;var $n="TabsContent",Vn=c.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...i}=e,l=rs($n,r),d=Hn(l.baseId,n),m=Wn(l.baseId,n),u=n===l.value,h=c.useRef(u);return c.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(De,{present:o||u,children:({present:p})=>s.jsx(F.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:m,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});Vn.displayName=$n;function Hn(e,t){return`${e}-trigger-${t}`}function Wn(e,t){return`${e}-content-${t}`}var lc=Fn,Gn=Dn,Bn=Un,qn=Vn;const cc=lc,Kn=c.forwardRef(({className:e,...t},r)=>s.jsx(Gn,{ref:r,className:T("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Kn.displayName=Gn.displayName;const Or=c.forwardRef(({className:e,...t},r)=>s.jsx(Bn,{ref:r,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Or.displayName=Bn.displayName;const Fr=c.forwardRef(({className:e,...t},r)=>s.jsx(qn,{ref:r,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fr.displayName=qn.displayName;var dc="Label",Qn=c.forwardRef((e,t)=>s.jsx(F.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Qn.displayName=dc;var Yn=Qn;const uc=pr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=c.forwardRef(({className:e,...t},r)=>s.jsx(Yn,{ref:r,className:T(uc(),e),...t}));Ve.displayName=Yn.displayName;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=(e,t)=>{const r=c.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:d,...m},u)=>c.createElement("svg",{ref:u,...hc,width:o,height:o,stroke:n,strokeWidth:i?Number(a)*24/Number(o):a,className:["lucide",`lucide-${mc(e)}`,l].join(" "),...m},[...t.map(([h,p])=>c.createElement(h,p)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=z("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=z("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=z("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Ac(){const{signIn:e,signUp:t,loading:r}=ct(),[n,o]=c.useState(!1),[a,i]=c.useState({email:"",password:""}),[l,d]=c.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),m=async h=>{if(h.preventDefault(),!a.email||!a.password){R.error("Please fill in all fields");return}o(!0);try{await e(a.email,a.password)}finally{o(!1)}},u=async h=>{if(h.preventDefault(),!l.email||!l.password||!l.confirmPassword){R.error("Please fill in all fields");return}if(l.password!==l.confirmPassword){R.error("Passwords do not match");return}if(l.password.length<6){R.error("Password must be at least 6 characters");return}o(!0);try{await t(l.email,l.password,{first_name:l.firstName,last_name:l.lastName,full_name:`${l.firstName} ${l.lastName}`.trim()})}finally{o(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs($,{className:"w-full max-w-md",children:[s.jsxs(B,{className:"text-center space-y-1",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Ht,{className:"h-6 w-6 text-white"})}),s.jsx(q,{className:"text-2xl font-bold",children:"Muscles AI Fitness"}),s.jsx(re,{children:"Your personalized AI fitness coach"})]}),s.jsx(Y,{children:s.jsxs(cc,{defaultValue:"signin",className:"w-full",children:[s.jsxs(Kn,{className:"grid w-full grid-cols-2",children:[s.jsx(Or,{value:"signin",children:"Sign In"}),s.jsx(Or,{value:"signup",children:"Sign Up"})]}),s.jsx(Fr,{value:"signin",className:"space-y-4 mt-4",children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"email",children:"Email"}),s.jsx(Oe,{id:"email",type:"email",placeholder:"Enter your email",value:a.email,onChange:h=>i(p=>({...p,email:h.target.value})),disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"password",children:"Password"}),s.jsx(Oe,{id:"password",type:"password",placeholder:"Enter your password",value:a.password,onChange:h=>i(p=>({...p,password:h.target.value})),disabled:n,required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wc,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})}),s.jsx(Fr,{value:"signup",className:"space-y-4 mt-4",children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"firstName",children:"First Name"}),s.jsx(Oe,{id:"firstName",placeholder:"First name",value:l.firstName,onChange:h=>d(p=>({...p,firstName:h.target.value})),disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Oe,{id:"lastName",placeholder:"Last name",value:l.lastName,onChange:h=>d(p=>({...p,lastName:h.target.value})),disabled:n})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"signupEmail",children:"Email"}),s.jsx(Oe,{id:"signupEmail",type:"email",placeholder:"Enter your email",value:l.email,onChange:h=>d(p=>({...p,email:h.target.value})),disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"signupPassword",children:"Password"}),s.jsx(Oe,{id:"signupPassword",type:"password",placeholder:"Create a password",value:l.password,onChange:h=>d(p=>({...p,password:h.target.value})),disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ve,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(Oe,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:l.confirmPassword,onChange:h=>d(p=>({...p,confirmPassword:h.target.value})),disabled:n,required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rc,{className:"mr-2 h-4 w-4"}),"Create Account"]})})]})})]})})]})})}const kc=pr("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...r}){return s.jsx("div",{className:T(kc({variant:t}),e),...r})}var ns="Progress",os=100,[Mc,Nu]=$t(ns),[_c,Oc]=Mc(ns),Jn=c.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=Fc,...i}=e;(o||o===0)&&!Fs(o)&&console.error(Lc(`${o}`,"Progress"));const l=Fs(o)?o:os;n!==null&&!Ls(n,l)&&console.error(Dc(`${n}`,"Progress"));const d=Ls(n,l)?n:null,m=or(d)?a(d,l):void 0;return s.jsx(_c,{scope:r,value:d,max:l,children:s.jsx(F.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":or(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":ro(d,l),"data-value":d??void 0,"data-max":l,...i,ref:t})})});Jn.displayName=ns;var eo="ProgressIndicator",to=c.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=Oc(eo,r);return s.jsx(F.div,{"data-state":ro(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});to.displayName=eo;function Fc(e,t){return`${Math.round(e/t*100)}%`}function ro(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function or(e){return typeof e=="number"}function Fs(e){return or(e)&&!isNaN(e)&&e>0}function Ls(e,t){return or(e)&&!isNaN(e)&&e<=t&&e>=0}function Lc(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${os}\`.`}function Dc(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${os} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var so=Jn,zc=to;const as=c.forwardRef(({className:e,value:t,...r},n)=>s.jsx(so,{ref:n,className:T("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(zc,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));as.displayName=so.displayName;var Uc="Separator",Ds="horizontal",$c=["horizontal","vertical"],no=c.forwardRef((e,t)=>{const{decorative:r,orientation:n=Ds,...o}=e,a=Vc(n)?n:Ds,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(F.div,{"data-orientation":a,...l,...o,ref:t})});no.displayName=Uc;function Vc(e){return $c.includes(e)}var oo=no;const rt=c.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(oo,{ref:o,decorative:r,orientation:t,className:T("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));rt.displayName=oo.displayName;function zs({onNavigate:e}){var i,l,d,m,u,h,p;const{user:t,profile:r}=ct();if(!t||!r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})});const n=()=>{const y=new Date().getHours();return y<12?"Good morning":y<17?"Good afternoon":"Good evening"},o=()=>{const y=["Ready to crush your fitness goals today?","Your strongest muscle is your determination!","Every workout brings you closer to your goals!","Consistency is key to your success!","Transform your body, transform your life!"];return y[Math.floor(Math.random()*y.length)]},a={beginner:25,intermediate:50,advanced:75,expert:100};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[s.jsx("div",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[n(),", ",r.first_name||r.full_name||"Fitness Warrior","!"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:o()})]}),s.jsxs(ae,{variant:"outline",className:"text-sm",children:[r.subscription_plan.toUpperCase()," Plan"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx($,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e("fitcraft"),children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(nr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"FitCraft Coach"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Chat with your AI trainer"})]})]})})}),s.jsx($,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e("workouts"),children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:s.jsx(tt,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Generate Workout"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered workout creation"})]})]})})}),s.jsx($,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e("calendar"),children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:s.jsx(Xn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Schedule Workouts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Plan your fitness routine"})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs($,{children:[s.jsx(B,{children:s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(fc,{className:"h-5 w-5"}),"Fitness Overview"]})}),s.jsx(Y,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg inline-flex",children:s.jsx(Ht,{className:"h-6 w-6 text-blue-500"})}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:r.total_workouts_completed}),s.jsx("p",{className:"text-sm text-gray-600",children:"Workouts Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-green-50 rounded-lg inline-flex",children:s.jsx(mt,{className:"h-6 w-6 text-green-500"})}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:((i=r.fitness_goals)==null?void 0:i.length)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Active Goals"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-purple-50 rounded-lg inline-flex",children:s.jsx(Jt,{className:"h-6 w-6 text-purple-500"})}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:_n(r.preferred_duration||45)}),s.jsx("p",{className:"text-sm text-gray-600",children:"Preferred Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-orange-50 rounded-lg inline-flex",children:s.jsx(bc,{className:"h-6 w-6 text-orange-500"})}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:r.workout_frequency||3}),s.jsx("p",{className:"text-sm text-gray-600",children:"Weekly Frequency"})]})]})})]}),s.jsxs($,{children:[s.jsxs(B,{children:[s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5"}),"Fitness Level Progress"]}),s.jsxs(re,{children:["Current level: ",((l=r.fitness_level)==null?void 0:l.charAt(0).toUpperCase())+((d=r.fitness_level)==null?void 0:d.slice(1))]})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[a[r.fitness_level]||50,"%"]})]}),s.jsx(as,{value:a[r.fitness_level]||50,className:"h-2"}),s.jsxs("div",{className:"grid grid-cols-4 text-xs text-gray-500",children:[s.jsx("span",{children:"Beginner"}),s.jsx("span",{children:"Intermediate"}),s.jsx("span",{children:"Advanced"}),s.jsx("span",{children:"Expert"})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs($,{children:[s.jsx(B,{children:s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"h-5 w-5"}),"Your Profile"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Body Type"}),s.jsx("p",{className:"font-medium",children:((m=r.body_type)==null?void 0:m.charAt(0).toUpperCase())+((u=r.body_type)==null?void 0:u.slice(1))||"Not specified"})]}),s.jsx(rt,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Physical Stats"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[r.height_cm&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm",children:"Height: "}),s.jsxs("span",{className:"font-medium",children:[r.height_cm,"cm"]})]}),r.weight_kg&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm",children:"Weight: "}),s.jsxs("span",{className:"font-medium",children:[r.weight_kg,"kg"]})]})]})]}),s.jsx(rt,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Available Equipment"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((h=r.available_equipment)==null?void 0:h.length)>0?r.available_equipment.map((y,b)=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:y},b)):s.jsx("span",{className:"text-sm text-gray-500",children:"No equipment specified"})})]})]})]}),s.jsxs($,{children:[s.jsx(B,{children:s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Fitness Goals"]})}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-2",children:((p=r.fitness_goals)==null?void 0:p.length)>0?r.fitness_goals.map((y,b)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-sm",children:y})]},b)):s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(mt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No goals set yet"}),s.jsx(ee,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>e("profile"),children:"Set Goals"})]})})})]})]})]})]})]})}function Dr(e,[t,r]){return Math.min(r,Math.max(t,e))}function Hc(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var is="ScrollArea",[ao,ju]=$t(is),[Wc,ve]=ao(is),io=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...i}=e,[l,d]=c.useState(null),[m,u]=c.useState(null),[h,p]=c.useState(null),[y,b]=c.useState(null),[x,v]=c.useState(null),[j,f]=c.useState(0),[g,w]=c.useState(0),[S,P]=c.useState(!1),[E,L]=c.useState(!1),C=X(t,U=>d(U)),_=dr(o);return s.jsx(Wc,{scope:r,type:n,dir:_,scrollHideDelay:a,scrollArea:l,viewport:m,onViewportChange:u,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:S,onScrollbarXEnabledChange:P,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:L,onCornerWidthChange:f,onCornerHeightChange:w,children:s.jsx(F.div,{dir:_,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});io.displayName=is;var lo="ScrollAreaViewport",co=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,i=ve(lo,r),l=c.useRef(null),d=X(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(F.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});co.displayName=lo;var Ie="ScrollAreaScrollbar",ls=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=ve(Ie,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return c.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),o.type==="hover"?s.jsx(Gc,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(Bc,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(uo,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(cs,{...n,ref:t}):null});ls.displayName=Ie;var Gc=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=ve(Ie,e.__scopeScrollArea),[a,i]=c.useState(!1);return c.useEffect(()=>{const l=o.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(De,{present:r||a,children:s.jsx(uo,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Bc=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=ve(Ie,e.__scopeScrollArea),a=e.orientation==="horizontal",i=xr(()=>d("SCROLL_END"),100),[l,d]=Hc("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,o.scrollHideDelay,d]),c.useEffect(()=>{const m=o.viewport,u=a?"scrollLeft":"scrollTop";if(m){let h=m[u];const p=()=>{const y=m[u];h!==y&&(d("SCROLL"),i()),h=y};return m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[o.viewport,a,d,i]),s.jsx(De,{present:r||l!=="hidden",children:s.jsx(cs,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:A(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:A(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),uo=c.forwardRef((e,t)=>{const r=ve(Ie,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,i]=c.useState(!1),l=e.orientation==="horizontal",d=xr(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?m:u)}},10);return jt(r.viewport,d),jt(r.content,d),s.jsx(De,{present:n||a,children:s.jsx(cs,{"data-state":a?"visible":"hidden",...o,ref:t})})}),cs=c.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=ve(Ie,e.__scopeScrollArea),a=c.useRef(null),i=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=go(l.viewport,l.content),u={...n,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,y){return Zc(p,i.current,l,y)}return r==="horizontal"?s.jsx(qc,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const p=o.viewport.scrollLeft,y=Us(p,l,o.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=h(p,o.dir))}}):r==="vertical"?s.jsx(Kc,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const p=o.viewport.scrollTop,y=Us(p,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=h(p))}}):null}),qc=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=ve(Ie,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=X(t,d,a.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(mo,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gr(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),vo(p,h)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ir(i.paddingLeft),paddingEnd:ir(i.paddingRight)}})}})}),Kc=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=ve(Ie,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=X(t,d,a.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),s.jsx(mo,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gr(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),vo(p,h)&&u.preventDefault()}},onResize:()=>{d.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ir(i.paddingTop),paddingEnd:ir(i.paddingBottom)}})}})}),[Qc,ho]=ao(Ie),mo=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:h,...p}=e,y=ve(Ie,r),[b,x]=c.useState(null),v=X(t,C=>x(C)),j=c.useRef(null),f=c.useRef(""),g=y.viewport,w=n.content-n.viewport,S=ne(u),P=ne(d),E=xr(h,10);function L(C){if(j.current){const _=C.clientX-j.current.left,U=C.clientY-j.current.top;m({x:_,y:U})}}return c.useEffect(()=>{const C=_=>{const U=_.target;(b==null?void 0:b.contains(U))&&S(_,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[g,b,w,S]),c.useEffect(P,[n,P]),jt(b,E),jt(y.content,E),s.jsx(Qc,{scope:r,scrollbar:b,hasThumb:o,onThumbChange:ne(a),onThumbPointerUp:ne(i),onThumbPositionChange:P,onThumbPointerDown:ne(l),children:s.jsx(F.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:A(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),j.current=b.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),L(C))}),onPointerMove:A(e.onPointerMove,L),onPointerUp:A(e.onPointerUp,C=>{const _=C.target;_.hasPointerCapture(C.pointerId)&&_.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=f.current,y.viewport&&(y.viewport.style.scrollBehavior=""),j.current=null})})})}),ar="ScrollAreaThumb",fo=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=ho(ar,e.__scopeScrollArea);return s.jsx(De,{present:r||o.hasThumb,children:s.jsx(Yc,{ref:t,...n})})}),Yc=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=ve(ar,r),i=ho(ar,r),{onThumbPositionChange:l}=i,d=X(t,h=>i.onThumbChange(h)),m=c.useRef(void 0),u=xr(()=>{m.current&&(m.current(),m.current=void 0)},100);return c.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(u(),!m.current){const y=Jc(h,l);m.current=y,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,u,l]),s.jsx(F.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:A(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,x=h.clientY-y.top;i.onThumbPointerDown({x:b,y:x})}),onPointerUp:A(e.onPointerUp,i.onThumbPointerUp)})});fo.displayName=ar;var ds="ScrollAreaCorner",po=c.forwardRef((e,t)=>{const r=ve(ds,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Xc,{...e,ref:t}):null});po.displayName=ds;var Xc=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=ve(ds,r),[a,i]=c.useState(0),[l,d]=c.useState(0),m=!!(a&&l);return jt(o.scrollbarX,()=>{var h;const u=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(u),d(u)}),jt(o.scrollbarY,()=>{var h;const u=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(u),i(u)}),m?s.jsx(F.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ir(e){return e?parseInt(e,10):0}function go(e,t){const r=e/t;return isNaN(r)?0:r}function gr(e){const t=go(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Zc(e,t,r,n="ltr"){const o=gr(r),a=o/2,i=t||a,l=o-i,d=r.scrollbar.paddingStart+i,m=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return xo([d,m],h)(e)}function Us(e,t,r="ltr"){const n=gr(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,l=a-n,d=r==="ltr"?[0,i]:[i*-1,0],m=Dr(e,d);return xo([0,i],[0,l])(m)}function xo(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function vo(e,t){return e>0&&e<t}var Jc=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function xr(e,t){const r=ne(e),n=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),c.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function jt(e,t){const r=ne(t);xe(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var bo=io,ed=co,td=po;const us=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(bo,{ref:n,className:T("relative overflow-hidden",e),...r,children:[s.jsx(ed,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(yo,{}),s.jsx(td,{})]}));us.displayName=bo.displayName;const yo=c.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(ls,{ref:n,orientation:t,className:T("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(fo,{className:"relative flex-1 rounded-full bg-border"})}));yo.displayName=ls.displayName;function rd(){const[e,t]=c.useState(!1),[r,n]=c.useState(""),[o,a]=c.useState(null),[i,l]=c.useState(!1);return c.useEffect(()=>{if(typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window)){const u=window.SpeechRecognition||window.webkitSpeechRecognition,h=new u;h.continuous=!1,h.interimResults=!1,h.lang="en-US",h.onresult=p=>{const y=p.results[0][0].transcript;n(y)},h.onend=()=>{t(!1)},h.onerror=p=>{console.error("Speech recognition error:",p.error),t(!1),R.error("Voice recognition failed")},a(h),l(!0)}},[]),{isListening:e,isSupported:i,transcript:r,startListening:()=>{o&&!e&&(n(""),t(!0),o.start())},stopListening:()=>{o&&e&&(o.stop(),t(!1))}}}function sd(){const{user:e,profile:t}=ct(),[r,n]=c.useState([]),[o,a]=c.useState(""),[i,l]=c.useState(!1),[d,m]=c.useState(null),[u,h]=c.useState(1),[p,y]=c.useState({}),b=rd();c.useEffect(()=>{if(e&&r.length===0){const f={id:"1",content:`Welcome to FitCraft Coach! I'm your personal AI fitness trainer, and I'm here to create the perfect workout plan just for you. Let's start by getting to know each other better.

What are your main fitness goals? Are you looking to lose weight, build muscle, improve endurance, or something else?`,isFromAI:!0,timestamp:new Date().toISOString(),step:me.WELCOME};n([f])}},[e,r.length]),c.useEffect(()=>{b.transcript&&!i&&a(b.transcript)},[b.transcript,i]);const x=async(f=o)=>{if(!f.trim()||!e)return;l(!0);const g={id:Date.now().toString(),content:f,isFromAI:!1,timestamp:new Date().toISOString(),step:u};n(w=>[...w,g]),a("");try{const w={message:f,conversationId:d,userId:e.id,currentStep:u,stepData:p},{data:S,error:P}=await fe.functions.invoke(Jr.FITCRAFT_AI_CHAT,{body:w});if(P)throw new Error(P.message);const E=S.data,L={id:(Date.now()+1).toString(),content:E.response,isFromAI:!0,timestamp:E.timestamp,step:E.currentStep};n(C=>[...C,L]),m(E.conversationId),E.currentStep>u&&h(E.currentStep)}catch(w){console.error("Chat error:",w),R.error("Failed to send message. Please try again.");const S={id:(Date.now()+1).toString(),content:"I apologize, but I encountered an error. Please try sending your message again.",isFromAI:!0,timestamp:new Date().toISOString(),step:u};n(P=>[...P,S])}finally{l(!1)}},v=f=>{f.key==="Enter"&&!f.shiftKey&&!i&&(f.preventDefault(),x())},j=()=>sc[u]||"Chat";return e?s.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[s.jsx("div",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(nr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"FitCraft Coach"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your AI Fitness Trainer"})]})]}),s.jsxs(ae,{variant:"outline",className:"hidden sm:flex",children:["Step ",u,"/12: ",j()]})]})})}),s.jsx("div",{className:"flex-1 max-w-4xl mx-auto w-full p-4",children:s.jsxs($,{className:"h-full flex flex-col",children:[s.jsx(B,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(q,{className:"text-lg",children:"Chat with FitCraft Coach"}),s.jsxs(ae,{variant:"secondary",className:"sm:hidden",children:[u,"/12"]})]})}),s.jsxs(Y,{className:"flex-1 flex flex-col p-0",children:[s.jsx(us,{className:"flex-1 px-6",children:s.jsxs("div",{className:"space-y-4 pb-4",children:[r.map(f=>s.jsxs("div",{className:T("flex gap-3 max-w-[85%]",f.isFromAI?"":"ml-auto flex-row-reverse"),children:[s.jsx("div",{className:T("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",f.isFromAI?"bg-blue-500 text-white":"bg-gray-500 text-white"),children:f.isFromAI?s.jsx(_s,{className:"h-4 w-4"}):s.jsx(Lr,{className:"h-4 w-4"})}),s.jsxs("div",{className:T("p-3 rounded-lg whitespace-pre-wrap",f.isFromAI?"bg-blue-50 border border-blue-200":"bg-gray-100 border border-gray-200"),children:[s.jsx("p",{className:"text-sm",children:f.content}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.timestamp).toLocaleTimeString()})]})]},f.id)),i&&s.jsxs("div",{className:"flex gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center flex-shrink-0",children:s.jsx(_s,{className:"h-4 w-4"})}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600",children:"FitCraft Coach is thinking..."})]})})]})]})}),s.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Oe,{placeholder:"Type your message or use voice input...",value:o,onChange:f=>a(f.target.value),onKeyPress:v,disabled:i,className:"pr-12"}),b.isSupported&&s.jsx(ee,{size:"sm",variant:b.isListening?"destructive":"outline",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:b.isListening?b.stopListening:b.startListening,disabled:i,children:b.isListening?s.jsx(Sc,{className:"h-4 w-4"}):s.jsx(Cc,{className:"h-4 w-4"})})]}),s.jsx(ee,{onClick:()=>x(),disabled:i||!o.trim(),className:"h-10",children:i?s.jsx(Re,{className:"h-4 w-4 animate-spin"}):s.jsx(Pc,{className:"h-4 w-4"})})]}),b.isListening&&s.jsx("div",{className:"mt-2",children:s.jsx(ae,{variant:"destructive",className:"animate-pulse",children:"Listening... Speak now"})})]})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx($,{className:"w-full max-w-md mx-4",children:s.jsxs(B,{children:[s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-6 w-6"}),"FitCraft Coach"]}),s.jsx(re,{children:"Please sign in to start your personalized fitness journey"})]})})})}function wo(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nd="VisuallyHidden",hs=c.forwardRef((e,t)=>s.jsx(F.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hs.displayName=nd;var od=hs,ad=[" ","Enter","ArrowUp","ArrowDown"],id=[" ","Enter"],Wt="Select",[vr,br,ld]=Qr(Wt),[Et,Su]=$t(Wt,[ld,Js]),yr=Js(),[cd,Xe]=Et(Wt),[dd,ud]=Et(Wt),No=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:d,dir:m,name:u,autoComplete:h,disabled:p,required:y,form:b}=e,x=yr(t),[v,j]=c.useState(null),[f,g]=c.useState(null),[w,S]=c.useState(!1),P=dr(m),[E=!1,L]=Ft({prop:n,defaultProp:o,onChange:a}),[C,_]=Ft({prop:i,defaultProp:l,onChange:d}),U=c.useRef(null),O=v?b||!!v.closest("form"):!0,[ye,ie]=c.useState(new Set),pe=Array.from(ye).map(Z=>Z.props.value).join(";");return s.jsx(qa,{...x,children:s.jsxs(cd,{required:y,scope:t,trigger:v,onTriggerChange:j,valueNode:f,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:Ct(),value:C,onValueChange:_,open:E,onOpenChange:L,dir:P,triggerPointerDownPosRef:U,disabled:p,children:[s.jsx(vr.Provider,{scope:t,children:s.jsx(dd,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback(Z=>{ie(de=>new Set(de).add(Z))},[]),onNativeOptionRemove:c.useCallback(Z=>{ie(de=>{const ue=new Set(de);return ue.delete(Z),ue})},[]),children:r})}),O?s.jsxs(qo,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:Z=>_(Z.target.value),disabled:p,form:b,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(ye)]},pe):null]})})};No.displayName=Wt;var jo="SelectTrigger",So=c.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=yr(r),i=Xe(jo,r),l=i.disabled||n,d=X(t,i.onTriggerChange),m=br(r),u=c.useRef("touch"),[h,p,y]=Ko(x=>{const v=m().filter(g=>!g.disabled),j=v.find(g=>g.value===i.value),f=Qo(v,x,j);f!==void 0&&i.onValueChange(f.value)}),b=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(za,{asChild:!0,...a,children:s.jsx(F.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Bo(i.value)?"":void 0,...o,ref:d,onClick:A(o.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&b(x)}),onPointerDown:A(o.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:A(o.onKeyDown,x=>{const v=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(v&&x.key===" ")&&ad.includes(x.key)&&(b(),x.preventDefault())})})})});So.displayName=jo;var Co="SelectValue",Po=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:i="",...l}=e,d=Xe(Co,r),{onValueNodeHasChildrenChange:m}=d,u=a!==void 0,h=X(t,d.onValueNodeChange);return xe(()=>{m(u)},[m,u]),s.jsx(F.span,{...l,ref:h,style:{pointerEvents:"none"},children:Bo(d.value)?s.jsx(s.Fragment,{children:i}):a})});Po.displayName=Co;var hd="SelectIcon",Eo=c.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(F.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});Eo.displayName=hd;var md="SelectPortal",To=e=>s.jsx(Ua,{asChild:!0,...e});To.displayName=md;var lt="SelectContent",Ro=c.forwardRef((e,t)=>{const r=Xe(lt,e.__scopeSelect),[n,o]=c.useState();if(xe(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?en.createPortal(s.jsx(Io,{scope:e.__scopeSelect,children:s.jsx(vr.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Ao,{...e,ref:t})});Ro.displayName=lt;var we=10,[Io,Ze]=Et(lt),fd="SelectContentImpl",pd=Wa("SelectContent.RemoveScroll"),Ao=c.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:d,align:m,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:v,...j}=e,f=Xe(lt,r),[g,w]=c.useState(null),[S,P]=c.useState(null),E=X(t,k=>w(k)),[L,C]=c.useState(null),[_,U]=c.useState(null),O=br(r),[ye,ie]=c.useState(!1),pe=c.useRef(!1);c.useEffect(()=>{if(g)return $a(g)},[g]),Va();const Z=c.useCallback(k=>{const[K,...he]=O().map(H=>H.ref.current),[G]=he.slice(-1),V=document.activeElement;for(const H of k)if(H===V||(H==null||H.scrollIntoView({block:"nearest"}),H===K&&S&&(S.scrollTop=0),H===G&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==V))return},[O,S]),de=c.useCallback(()=>Z([L,g]),[Z,L,g]);c.useEffect(()=>{ye&&de()},[ye,de]);const{onOpenChange:ue,triggerPointerDownPosRef:le}=f;c.useEffect(()=>{if(g){let k={x:0,y:0};const K=G=>{var V,H;k={x:Math.abs(Math.round(G.pageX)-(((V=le.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(G.pageY)-(((H=le.current)==null?void 0:H.y)??0))}},he=G=>{k.x<=10&&k.y<=10?G.preventDefault():g.contains(G.target)||ue(!1),document.removeEventListener("pointermove",K),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",he,{capture:!0})}}},[g,ue,le]),c.useEffect(()=>{const k=()=>ue(!1);return window.addEventListener("blur",k),window.addEventListener("resize",k),()=>{window.removeEventListener("blur",k),window.removeEventListener("resize",k)}},[ue]);const[dt,ce]=Ko(k=>{const K=O().filter(V=>!V.disabled),he=K.find(V=>V.ref.current===document.activeElement),G=Qo(K,k,he);G&&setTimeout(()=>G.ref.current.focus())}),wr=c.useCallback((k,K,he)=>{const G=!pe.current&&!he;(f.value!==void 0&&f.value===K||G)&&(C(k),G&&(pe.current=!0))},[f.value]),Nr=c.useCallback(()=>g==null?void 0:g.focus(),[g]),ut=c.useCallback((k,K,he)=>{const G=!pe.current&&!he;(f.value!==void 0&&f.value===K||G)&&U(k)},[f.value]),Gt=n==="popper"?zr:ko,Rt=Gt===zr?{side:l,sideOffset:d,align:m,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:v}:{};return s.jsx(Io,{scope:r,content:g,viewport:S,onViewportChange:P,itemRefCallback:wr,selectedItem:L,onItemLeave:Nr,itemTextRefCallback:ut,focusSelectedItem:de,selectedItemText:_,position:n,isPositioned:ye,searchRef:dt,children:s.jsx(Ha,{as:pd,allowPinchZoom:!0,children:s.jsx(Ga,{asChild:!0,trapped:f.open,onMountAutoFocus:k=>{k.preventDefault()},onUnmountAutoFocus:A(o,k=>{var K;(K=f.trigger)==null||K.focus({preventScroll:!0}),k.preventDefault()}),children:s.jsx(tn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:k=>k.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Gt,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:k=>k.preventDefault(),...j,...Rt,onPlaced:()=>ie(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:A(j.onKeyDown,k=>{const K=k.ctrlKey||k.altKey||k.metaKey;if(k.key==="Tab"&&k.preventDefault(),!K&&k.key.length===1&&ce(k.key),["ArrowUp","ArrowDown","Home","End"].includes(k.key)){let G=O().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(k.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(k.key)){const V=k.target,H=G.indexOf(V);G=G.slice(H+1)}setTimeout(()=>Z(G)),k.preventDefault()}})})})})})})});Ao.displayName=fd;var gd="SelectItemAlignedPosition",ko=c.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Xe(lt,r),i=Ze(lt,r),[l,d]=c.useState(null),[m,u]=c.useState(null),h=X(t,E=>u(E)),p=br(r),y=c.useRef(!1),b=c.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:j,focusSelectedItem:f}=i,g=c.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&m&&x&&v&&j){const E=a.trigger.getBoundingClientRect(),L=m.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),_=j.getBoundingClientRect();if(a.dir!=="rtl"){const V=_.left-L.left,H=C.left-V,Je=E.left-H,et=E.width+Je,jr=Math.max(et,L.width),Sr=window.innerWidth-we,Cr=Dr(H,[we,Math.max(we,Sr-jr)]);l.style.minWidth=et+"px",l.style.left=Cr+"px"}else{const V=L.right-_.right,H=window.innerWidth-C.right-V,Je=window.innerWidth-E.right-H,et=E.width+Je,jr=Math.max(et,L.width),Sr=window.innerWidth-we,Cr=Dr(H,[we,Math.max(we,Sr-jr)]);l.style.minWidth=et+"px",l.style.right=Cr+"px"}const U=p(),O=window.innerHeight-we*2,ye=x.scrollHeight,ie=window.getComputedStyle(m),pe=parseInt(ie.borderTopWidth,10),Z=parseInt(ie.paddingTop,10),de=parseInt(ie.borderBottomWidth,10),ue=parseInt(ie.paddingBottom,10),le=pe+Z+ye+ue+de,dt=Math.min(v.offsetHeight*5,le),ce=window.getComputedStyle(x),wr=parseInt(ce.paddingTop,10),Nr=parseInt(ce.paddingBottom,10),ut=E.top+E.height/2-we,Gt=O-ut,Rt=v.offsetHeight/2,k=v.offsetTop+Rt,K=pe+Z+k,he=le-K;if(K<=ut){const V=U.length>0&&v===U[U.length-1].ref.current;l.style.bottom="0px";const H=m.clientHeight-x.offsetTop-x.offsetHeight,Je=Math.max(Gt,Rt+(V?Nr:0)+H+de),et=K+Je;l.style.height=et+"px"}else{const V=U.length>0&&v===U[0].ref.current;l.style.top="0px";const Je=Math.max(ut,pe+x.offsetTop+(V?wr:0)+Rt)+he;l.style.height=Je+"px",x.scrollTop=K-ut+x.offsetTop}l.style.margin=`${we}px 0`,l.style.minHeight=dt+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[p,a.trigger,a.valueNode,l,m,x,v,j,a.dir,n]);xe(()=>g(),[g]);const[w,S]=c.useState();xe(()=>{m&&S(window.getComputedStyle(m).zIndex)},[m]);const P=c.useCallback(E=>{E&&b.current===!0&&(g(),f==null||f(),b.current=!1)},[g,f]);return s.jsx(vd,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(F.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});ko.displayName=gd;var xd="SelectPopperPosition",zr=c.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=we,...a}=e,i=yr(r);return s.jsx(Ba,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zr.displayName=xd;var[vd,ms]=Et(lt,{}),Ur="SelectViewport",Mo=c.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=Ze(Ur,r),i=ms(Ur,r),l=X(t,a.onViewportChange),d=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(vr.Slot,{scope:r,children:s.jsx(F.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:A(o.onScroll,m=>{const u=m.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const y=Math.abs(d.current-u.scrollTop);if(y>0){const b=window.innerHeight-we*2,x=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),j=Math.max(x,v);if(j<b){const f=j+y,g=Math.min(b,f),w=f-g;h.style.height=g+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});Mo.displayName=Ur;var _o="SelectGroup",[bd,yd]=Et(_o),wd=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Ct();return s.jsx(bd,{scope:r,id:o,children:s.jsx(F.div,{role:"group","aria-labelledby":o,...n,ref:t})})});wd.displayName=_o;var Oo="SelectLabel",Fo=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=yd(Oo,r);return s.jsx(F.div,{id:o.id,...n,ref:t})});Fo.displayName=Oo;var lr="SelectItem",[Nd,Lo]=Et(lr),Do=c.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...i}=e,l=Xe(lr,r),d=Ze(lr,r),m=l.value===n,[u,h]=c.useState(a??""),[p,y]=c.useState(!1),b=X(t,f=>{var g;return(g=d.itemRefCallback)==null?void 0:g.call(d,f,n,o)}),x=Ct(),v=c.useRef("touch"),j=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Nd,{scope:r,value:n,disabled:o,textId:x,isSelected:m,onItemTextChange:c.useCallback(f=>{h(g=>g||((f==null?void 0:f.textContent)??"").trim())},[]),children:s.jsx(vr.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:s.jsx(F.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":m&&p,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:b,onFocus:A(i.onFocus,()=>y(!0)),onBlur:A(i.onBlur,()=>y(!1)),onClick:A(i.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:A(i.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:A(i.onPointerDown,f=>{v.current=f.pointerType}),onPointerMove:A(i.onPointerMove,f=>{var g;v.current=f.pointerType,o?(g=d.onItemLeave)==null||g.call(d):v.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(i.onPointerLeave,f=>{var g;f.currentTarget===document.activeElement&&((g=d.onItemLeave)==null||g.call(d))}),onKeyDown:A(i.onKeyDown,f=>{var w;((w=d.searchRef)==null?void 0:w.current)!==""&&f.key===" "||(id.includes(f.key)&&j(),f.key===" "&&f.preventDefault())})})})})});Do.displayName=lr;var kt="SelectItemText",zo=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,i=Xe(kt,r),l=Ze(kt,r),d=Lo(kt,r),m=ud(kt,r),[u,h]=c.useState(null),p=X(t,j=>h(j),d.onItemTextChange,j=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,j,d.value,d.disabled)}),y=u==null?void 0:u.textContent,b=c.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=m;return xe(()=>(x(b),()=>v(b)),[x,v,b]),s.jsxs(s.Fragment,{children:[s.jsx(F.span,{id:d.textId,...a,ref:p}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?en.createPortal(a.children,i.valueNode):null]})});zo.displayName=kt;var Uo="SelectItemIndicator",$o=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Lo(Uo,r).isSelected?s.jsx(F.span,{"aria-hidden":!0,...n,ref:t}):null});$o.displayName=Uo;var $r="SelectScrollUpButton",Vo=c.forwardRef((e,t)=>{const r=Ze($r,e.__scopeSelect),n=ms($r,e.__scopeSelect),[o,a]=c.useState(!1),i=X(t,n.onScrollButtonChange);return xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const m=d.scrollTop>0;a(m)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(Wo,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Vo.displayName=$r;var Vr="SelectScrollDownButton",Ho=c.forwardRef((e,t)=>{const r=Ze(Vr,e.__scopeSelect),n=ms(Vr,e.__scopeSelect),[o,a]=c.useState(!1),i=X(t,n.onScrollButtonChange);return xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<m;a(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?s.jsx(Wo,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Ho.displayName=Vr;var Wo=c.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Ze("SelectScrollButton",r),i=c.useRef(null),l=br(r),d=c.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),xe(()=>{var u;const m=l().find(h=>h.ref.current===document.activeElement);(u=m==null?void 0:m.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(F.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:A(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:A(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:A(o.onPointerLeave,()=>{d()})})}),jd="SelectSeparator",Go=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(F.div,{"aria-hidden":!0,...n,ref:t})});Go.displayName=jd;var Hr="SelectArrow",Sd=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=yr(r),a=Xe(Hr,r),i=Ze(Hr,r);return a.open&&i.position==="popper"?s.jsx(Ka,{...o,...n,ref:t}):null});Sd.displayName=Hr;function Bo(e){return e===""||e===void 0}var qo=c.forwardRef((e,t)=>{const{value:r,...n}=e,o=c.useRef(null),a=X(t,o),i=wo(r);return c.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[i,r]),s.jsx(hs,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});qo.displayName="BubbleSelect";function Ko(e){const t=ne(e),r=c.useRef(""),n=c.useRef(0),o=c.useCallback(i=>{const l=r.current+i;t(l),function d(m){r.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function Qo(e,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Cd(e,Math.max(a,0));o.length===1&&(i=i.filter(m=>m!==r));const d=i.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function Cd(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Pd=No,Yo=So,Ed=Po,Td=Eo,Rd=To,Xo=Ro,Id=Mo,Zo=Fo,Jo=Do,Ad=zo,kd=$o,ea=Vo,ta=Ho,ra=Go;const Yt=Pd,Xt=Ed,Mt=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Yo,{ref:n,className:T("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Td,{asChild:!0,children:s.jsx(ss,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=Yo.displayName;const sa=c.forwardRef(({className:e,...t},r)=>s.jsx(ea,{ref:r,className:T("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(xc,{className:"h-4 w-4"})}));sa.displayName=ea.displayName;const na=c.forwardRef(({className:e,...t},r)=>s.jsx(ta,{ref:r,className:T("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ss,{className:"h-4 w-4"})}));na.displayName=ta.displayName;const _t=c.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(Rd,{children:s.jsxs(Xo,{ref:o,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(sa,{}),s.jsx(Id,{className:T("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(na,{})]})}));_t.displayName=Xo.displayName;const Md=c.forwardRef(({className:e,...t},r)=>s.jsx(Zo,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",e),...t}));Md.displayName=Zo.displayName;const _e=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Jo,{ref:n,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kd,{children:s.jsx(He,{className:"h-4 w-4"})})}),s.jsx(Ad,{children:t})]}));_e.displayName=Jo.displayName;const _d=c.forwardRef(({className:e,...t},r)=>s.jsx(ra,{ref:r,className:T("-mx-1 my-1 h-px bg-muted",e),...t}));_d.displayName=ra.displayName;const oa=c.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));oa.displayName="Textarea";function Od({onWorkoutGenerated:e}){var y,b,x,v,j;const{user:t,profile:r}=ct(),[n,o]=c.useState(!1),[a,i]=c.useState(null),[l,d]=c.useState({workoutType:(y=r==null?void 0:r.fitness_goals)!=null&&y[0]?"HIIT":"",duration:(r==null?void 0:r.preferred_duration)||45,fitnessLevel:(r==null?void 0:r.fitness_level)||"",bodyType:(r==null?void 0:r.body_type)||"",equipment:(r==null?void 0:r.available_equipment)||[],targetMuscles:(r==null?void 0:r.target_body_parts)||[],goals:(r==null?void 0:r.fitness_goals)||[],injuries:((b=r==null?void 0:r.injury_limitations)==null?void 0:b.join(", "))||""});c.useEffect(()=>{r&&d(f=>{var g;return{...f,workoutType:f.workoutType||"HIIT",duration:r.preferred_duration||45,fitnessLevel:r.fitness_level||"intermediate",bodyType:r.body_type||"mesomorph",equipment:r.available_equipment||[],targetMuscles:r.target_body_parts||[],goals:r.fitness_goals||[],injuries:((g=r.injury_limitations)==null?void 0:g.join(", "))||""}})},[r]);const m=(f,g)=>{d(w=>({...w,[f]:g}))},u=async()=>{if(!t||!l.workoutType){R.error("Please select a workout type");return}o(!0),i(null);try{const f={userId:t.id,workoutType:l.workoutType,duration:l.duration,fitnessLevel:l.fitnessLevel,bodyType:l.bodyType,equipment:l.equipment,targetMuscles:l.targetMuscles,goals:l.goals,injuries:l.injuries};console.log("Generating workout with request:",f);const{data:g,error:w}=await fe.functions.invoke(Jr.AI_WORKOUT_GENERATOR,{body:f});if(w)throw new Error(w.message);const S=g.data.workout;i(S),e==null||e(S),R.success("Workout generated successfully!")}catch(f){console.error("Workout generation error:",f),R.error("Failed to generate workout. Please try again.")}finally{o(!1)}},h=({exercise:f,phase:g})=>s.jsx($,{className:"mb-2",children:s.jsxs(Y,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),s.jsx(ae,{variant:"outline",className:"text-xs",children:g})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 text-sm text-gray-600",children:[f.sets&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-3 w-3"}),s.jsxs("span",{children:[f.sets," sets"]})]}),f.reps&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(mt,{className:"h-3 w-3"}),s.jsxs("span",{children:[f.reps," reps"]})]}),f.duration&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:[f.duration,"s"]})]}),f.rest&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jt,{className:"h-3 w-3"}),s.jsxs("span",{children:[f.rest,"s rest"]})]})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:f.instructions}),f.modifications&&s.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Modification:"})," ",f.modifications]}),f.equipment&&f.equipment.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:f.equipment.map((w,S)=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:w},S))})]})}),p=({title:f,phase:g,exercises:w})=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5 text-green-500"}),f]}),s.jsx("div",{className:"space-y-2",children:w.map((S,P)=>s.jsx(h,{exercise:S,phase:g},P))})]});return t?s.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Workout Generator"}),s.jsx("p",{className:"text-gray-600",children:"Create personalized workouts tailored to your fitness goals"})]}),s.jsxs($,{children:[s.jsxs(B,{children:[s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(tt,{className:"h-5 w-5"}),"Workout Preferences"]}),s.jsx(re,{children:"Customize your workout based on your goals and available time"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Workout Type"}),s.jsxs(Yt,{value:l.workoutType,onValueChange:f=>m("workoutType",f),children:[s.jsx(Mt,{children:s.jsx(Xt,{placeholder:"Select workout type"})}),s.jsx(_t,{children:Object.entries(rc).map(([f,g])=>s.jsx(_e,{value:g,children:g},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),s.jsxs(Yt,{value:l.duration.toString(),onValueChange:f=>m("duration",parseInt(f)),children:[s.jsx(Mt,{children:s.jsx(Xt,{})}),s.jsxs(_t,{children:[s.jsx(_e,{value:"15",children:"15 minutes"}),s.jsx(_e,{value:"30",children:"30 minutes"}),s.jsx(_e,{value:"45",children:"45 minutes"}),s.jsx(_e,{value:"60",children:"60 minutes"}),s.jsx(_e,{value:"90",children:"90 minutes"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Fitness Level"}),s.jsxs(Yt,{value:l.fitnessLevel,onValueChange:f=>m("fitnessLevel",f),children:[s.jsx(Mt,{children:s.jsx(Xt,{placeholder:"Select fitness level"})}),s.jsx(_t,{children:Object.entries(tc).map(([f,g])=>s.jsx(_e,{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Body Type"}),s.jsxs(Yt,{value:l.bodyType,onValueChange:f=>m("bodyType",f),children:[s.jsx(Mt,{children:s.jsx(Xt,{placeholder:"Select body type"})}),s.jsx(_t,{children:Object.entries(ec).map(([f,g])=>s.jsx(_e,{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},f))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Injuries or Limitations"}),s.jsx(oa,{placeholder:"Describe any injuries or physical limitations...",value:l.injuries,onChange:f=>m("injuries",f.target.value),className:"min-h-[80px]"})]}),s.jsx(ee,{onClick:u,disabled:n||!l.workoutType,className:"w-full",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Your Workout..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tt,{className:"mr-2 h-4 w-4"}),"Generate AI Workout"]})})]})]}),a&&s.jsxs($,{children:[s.jsxs(B,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(q,{className:"text-xl",children:a.workoutName}),s.jsx(re,{className:"mt-1",children:a.description||`AI-generated ${a.workoutType} workout`})]}),s.jsxs(ae,{variant:"default",className:"bg-green-500",children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),"Generated"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(Jt,{className:"h-4 w-4"}),s.jsx("span",{children:_n(a.estimatedDuration)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(mt,{className:"h-4 w-4"}),s.jsx("span",{children:a.difficultyLevel})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:a.targetMuscles.map((f,g)=>s.jsx(ae,{variant:"outline",className:"text-xs",children:f},g))})]})]}),s.jsx(Y,{children:s.jsxs(us,{className:"h-[600px] pr-4",children:[((x=a.phases)==null?void 0:x.warmUp)&&s.jsx(p,{title:"Warm-up",phase:"warm-up",exercises:a.phases.warmUp.exercises}),s.jsx(rt,{className:"my-4"}),((v=a.phases)==null?void 0:v.mainWorkout)&&s.jsx(p,{title:"Main Workout",phase:"main",exercises:a.phases.mainWorkout.exercises}),s.jsx(rt,{className:"my-4"}),((j=a.phases)==null?void 0:j.coolDown)&&s.jsx(p,{title:"Cool-down",phase:"cool-down",exercises:a.phases.coolDown.exercises}),a.coachingTips&&a.coachingTips.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"my-4"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-500"}),"Coaching Tips"]}),s.jsx("ul",{className:"space-y-2",children:a.coachingTips.map((f,g)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Tr,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},g))})]})]}),a.progressionNotes&&s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"my-4"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(tt,{className:"h-5 w-5 text-purple-500"}),"Progression Notes"]}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-purple-800",children:a.progressionNotes})})]})]})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx($,{className:"w-full max-w-md mx-4",children:s.jsxs(B,{children:[s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(tt,{className:"h-6 w-6"}),"AI Workout Generator"]}),s.jsx(re,{children:"Please sign in to generate personalized workouts"})]})})})}const Rr={basic:["AI Workout Generation (50/month)","FitCraft Coach Chat","Basic Calendar Integration","Workout Library Access","Progress Tracking"],premium:["AI Workout Generation (200/month)","Advanced FitCraft Coach","Full Calendar Sync","Personalized Meal Plans","Progress Analytics","Priority Support"],pro:["Unlimited AI Generation (500/month)","Expert FitCraft Coach","Advanced Calendar Features","Custom Meal Plans","Advanced Analytics","Priority Support","Early Access to New Features"]};function Fd(){const{user:e,profile:t}=ct(),[r,n]=c.useState([]),[o,a]=c.useState(null),[i,l]=c.useState(null),[d,m]=c.useState(!0),[u,h]=c.useState(null);c.useEffect(()=>{e&&p()},[e]),c.useEffect(()=>{const g=new URLSearchParams(window.location.search).get("subscription");g==="success"?(R.success("Subscription activated successfully!"),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{p()},2e3)):g==="cancelled"&&(R.error("Subscription cancelled. You can try again anytime!"),window.history.replaceState({},document.title,window.location.pathname))},[]);const p=async()=>{if(e){m(!0);try{const{data:f,error:g}=await fe.from(Ot.FITCRAFT_PLANS).select("*").order("price",{ascending:!0});g?console.error("Error fetching plans:",g):n(f||[]);const{data:w,error:S}=await fe.from(Ot.FITCRAFT_SUBSCRIPTIONS).select("*").eq("user_id",e.id).eq("status","active").maybeSingle();if(S&&S.code!=="PGRST116")console.error("Error fetching subscription:",S);else if(a(w),w){const P=f==null?void 0:f.find(E=>E.price_id===w.price_id);l({plan:(P==null?void 0:P.plan_type)||"unknown",status:w.status,aiGenerationsUsed:0,aiGenerationsLimit:(P==null?void 0:P.monthly_limit)||0})}else l({plan:"free",status:"active",aiGenerationsUsed:0,aiGenerationsLimit:5})}catch(f){console.error("Error fetching subscription data:",f),R.error("Failed to load subscription data")}finally{m(!1)}}},y=async f=>{var g;if(!e){R.error("Please sign in to subscribe");return}h(f);try{const{data:w,error:S}=await fe.functions.invoke(Jr.CREATE_SUBSCRIPTION,{body:{planType:f,customerEmail:e.email}});if(S)throw new Error(S.message);if((g=w.data)!=null&&g.checkoutUrl)R.success("Redirecting to payment..."),window.location.href=w.data.checkoutUrl;else throw new Error("No checkout URL received")}catch(w){console.error("Subscription error:",w),R.error(w.message||"Failed to create subscription")}finally{h(null)}},b=f=>{const g=r.find(w=>w.plan_type===f);return g?`$${(g.price/100).toFixed(2)}`:"N/A"},x=f=>{switch(f){case"basic":return s.jsx(tt,{className:"h-6 w-6 text-blue-500"});case"premium":return s.jsx(Os,{className:"h-6 w-6 text-purple-500"});case"pro":return s.jsx(Ec,{className:"h-6 w-6 text-gold-500"});default:return s.jsx(Ht,{className:"h-6 w-6 text-gray-500"})}},v=f=>(i==null?void 0:i.plan)===f,j=()=>{if(!i)return 0;const{aiGenerationsUsed:f,aiGenerationsLimit:g}=i;return g>0?f/g*100:0};return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsx($,{className:"w-full max-w-md mx-4",children:s.jsxs(B,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Re,{className:"h-6 w-6 text-white animate-spin"})}),s.jsx(q,{children:"Loading Subscription"}),s.jsx(re,{children:"Fetching your plan details..."})]})})}):e?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[s.jsx("div",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Plans"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the perfect plan for your fitness journey"})]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[i&&s.jsxs($,{className:"mb-8",children:[s.jsx(B,{children:s.jsxs(q,{className:"flex items-center gap-2",children:[s.jsx(Os,{className:"h-5 w-5"}),"Current Plan: ",i.plan.charAt(0).toUpperCase()+i.plan.slice(1)]})}),s.jsx(Y,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ae,{variant:i.status==="active"?"default":"secondary",children:i.status.toUpperCase()}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[i.aiGenerationsUsed," / ",i.aiGenerationsLimit]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI Generations Used"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"w-full",children:[s.jsx(as,{value:j(),className:"h-2 mb-1"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(j()),"% Used"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs($,{className:`relative ${v("free")?"ring-2 ring-blue-500":""}`,children:[v("free")&&s.jsx(ae,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Current Plan"}),s.jsxs(B,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto mb-4",children:x("free")}),s.jsx(q,{className:"text-2xl",children:"Free"}),s.jsx("div",{className:"text-3xl font-bold",children:"$0"}),s.jsx(re,{children:"Perfect for getting started"})]}),s.jsxs(Y,{children:[s.jsxs("ul",{className:"space-y-2 mb-6",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"5 AI Workouts/month"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Basic FitCraft Chat"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Exercise Library"})]})]}),s.jsx(ee,{className:"w-full",variant:v("free")?"outline":"default",disabled:v("free"),children:v("free")?"Current Plan":"Start Free"})]})]}),s.jsxs($,{className:`relative ${v("basic")?"ring-2 ring-blue-500":""}`,children:[v("basic")&&s.jsx(ae,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Current Plan"}),s.jsxs(B,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto mb-4",children:x("basic")}),s.jsx(q,{className:"text-2xl",children:"FitCraft Basic"}),s.jsxs("div",{className:"text-3xl font-bold",children:[b("basic"),s.jsx("span",{className:"text-lg font-normal",children:"/month"})]}),s.jsx(re,{children:"Enhanced AI-powered fitness"})]}),s.jsxs(Y,{children:[s.jsx("ul",{className:"space-y-2 mb-6",children:Rr.basic.map((f,g)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:f})]},g))}),s.jsx(ee,{className:"w-full",variant:v("basic")?"outline":"default",disabled:u==="basic"||v("basic"),onClick:()=>y("basic"),children:u==="basic"?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):v("basic")?"Current Plan":"Subscribe to Basic"})]})]}),s.jsxs($,{className:`relative ${v("premium")?"ring-2 ring-purple-500":""}`,children:[s.jsx(ae,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-purple-500",children:v("premium")?"Current Plan":"Popular"}),s.jsxs(B,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto mb-4",children:x("premium")}),s.jsx(q,{className:"text-2xl",children:"FitCraft Premium"}),s.jsxs("div",{className:"text-3xl font-bold",children:[b("premium"),s.jsx("span",{className:"text-lg font-normal",children:"/month"})]}),s.jsx(re,{children:"Advanced fitness optimization"})]}),s.jsxs(Y,{children:[s.jsx("ul",{className:"space-y-2 mb-6",children:Rr.premium.map((f,g)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:f})]},g))}),s.jsx(ee,{className:"w-full bg-purple-500 hover:bg-purple-600",disabled:u==="premium"||v("premium"),onClick:()=>y("premium"),children:u==="premium"?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):v("premium")?"Current Plan":"Subscribe to Premium"})]})]}),s.jsxs($,{className:`relative ${v("pro")?"ring-2 ring-yellow-500":""} md:col-start-2`,children:[v("pro")&&s.jsx(ae,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-yellow-500",children:"Current Plan"}),s.jsxs(B,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto mb-4",children:x("pro")}),s.jsx(q,{className:"text-2xl",children:"FitCraft Pro"}),s.jsxs("div",{className:"text-3xl font-bold",children:[b("pro"),s.jsx("span",{className:"text-lg font-normal",children:"/month"})]}),s.jsx(re,{children:"Ultimate fitness experience"})]}),s.jsxs(Y,{children:[s.jsx("ul",{className:"space-y-2 mb-6",children:Rr.pro.map((f,g)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:f})]},g))}),s.jsx(ee,{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black",disabled:u==="pro"||v("pro"),onClick:()=>y("pro"),children:u==="pro"?s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):v("pro")?"Current Plan":"Subscribe to Pro"})]})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs($,{children:[s.jsx(B,{children:s.jsx(q,{className:"text-lg",children:"Can I change my plan anytime?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-600",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will take effect at your next billing cycle."})})]}),s.jsxs($,{children:[s.jsx(B,{children:s.jsx(q,{className:"text-lg",children:"What happens if I exceed my AI generation limit?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-600",children:"You'll be notified when you're close to your limit. You can upgrade your plan or wait for the next billing cycle for your limit to reset."})})]})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsx($,{className:"w-full max-w-md mx-4",children:s.jsxs(B,{className:"text-center",children:[s.jsx(q,{children:"Subscription Management"}),s.jsx(re,{children:"Please sign in to manage your subscription"})]})})})}const Ld=Ya,Dd=Xa,zd=c.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(rn,{ref:o,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(gc,{className:"ml-auto h-4 w-4"})]}));zd.displayName=rn.displayName;const Ud=c.forwardRef(({className:e,...t},r)=>s.jsx(sn,{ref:r,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ud.displayName=sn.displayName;const aa=c.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Qa,{children:s.jsx(nn,{ref:n,sideOffset:t,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));aa.displayName=nn.displayName;const er=c.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(on,{ref:n,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));er.displayName=on.displayName;const $d=c.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(an,{ref:o,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ln,{children:s.jsx(He,{className:"h-4 w-4"})})}),t]}));$d.displayName=an.displayName;const Vd=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(cn,{ref:n,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ln,{children:s.jsx(vc,{className:"h-2 w-2 fill-current"})})}),t]}));Vd.displayName=cn.displayName;const ia=c.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(dn,{ref:n,className:T("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ia.displayName=dn.displayName;const Wr=c.forwardRef(({className:e,...t},r)=>s.jsx(un,{ref:r,className:T("-mx-1 my-1 h-px bg-muted",e),...t}));Wr.displayName=un.displayName;var Tt="NavigationMenu",[fs,la,Hd]=Qr(Tt),[Gr,Wd,Gd]=Qr(Tt),[ps,Cu]=$t(Tt,[Hd,Gd]),[Bd,be]=ps(Tt),[qd,Kd]=ps(Tt),ca=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,onValueChange:o,defaultValue:a,delayDuration:i=200,skipDelayDuration:l=300,orientation:d="horizontal",dir:m,...u}=e,[h,p]=c.useState(null),y=X(t,C=>p(C)),b=dr(m),x=c.useRef(0),v=c.useRef(0),j=c.useRef(0),[f,g]=c.useState(!0),[w="",S]=Ft({prop:n,onChange:C=>{const _=C!=="",U=l>0;_?(window.clearTimeout(j.current),U&&g(!1)):(window.clearTimeout(j.current),j.current=window.setTimeout(()=>g(!0),l)),o==null||o(C)},defaultProp:a}),P=c.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>S(""),150)},[S]),E=c.useCallback(C=>{window.clearTimeout(v.current),S(C)},[S]),L=c.useCallback(C=>{w===C?window.clearTimeout(v.current):x.current=window.setTimeout(()=>{window.clearTimeout(v.current),S(C)},i)},[w,S,i]);return c.useEffect(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(v.current),window.clearTimeout(j.current)},[]),s.jsx(ua,{scope:r,isRootMenu:!0,value:w,dir:b,orientation:d,rootNavigationMenu:h,onTriggerEnter:C=>{window.clearTimeout(x.current),f?L(C):E(C)},onTriggerLeave:()=>{window.clearTimeout(x.current),P()},onContentEnter:()=>window.clearTimeout(v.current),onContentLeave:P,onItemSelect:C=>{S(_=>_===C?"":C)},onItemDismiss:()=>S(""),children:s.jsx(F.nav,{"aria-label":"Main","data-orientation":d,dir:b,...u,ref:y})})});ca.displayName=Tt;var da="NavigationMenuSub",Qd=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,onValueChange:o,defaultValue:a,orientation:i="horizontal",...l}=e,d=be(da,r),[m="",u]=Ft({prop:n,onChange:o,defaultProp:a});return s.jsx(ua,{scope:r,isRootMenu:!1,value:m,dir:d.dir,orientation:i,rootNavigationMenu:d.rootNavigationMenu,onTriggerEnter:h=>u(h),onItemSelect:h=>u(h),onItemDismiss:()=>u(""),children:s.jsx(F.div,{"data-orientation":i,...l,ref:t})})});Qd.displayName=da;var ua=e=>{const{scope:t,isRootMenu:r,rootNavigationMenu:n,dir:o,orientation:a,children:i,value:l,onItemSelect:d,onItemDismiss:m,onTriggerEnter:u,onTriggerLeave:h,onContentEnter:p,onContentLeave:y}=e,[b,x]=c.useState(null),[v,j]=c.useState(new Map),[f,g]=c.useState(null);return s.jsx(Bd,{scope:t,isRootMenu:r,rootNavigationMenu:n,value:l,previousValue:wo(l),baseId:Ct(),dir:o,orientation:a,viewport:b,onViewportChange:x,indicatorTrack:f,onIndicatorTrackChange:g,onTriggerEnter:ne(u),onTriggerLeave:ne(h),onContentEnter:ne(p),onContentLeave:ne(y),onItemSelect:ne(d),onItemDismiss:ne(m),onViewportContentChange:c.useCallback((w,S)=>{j(P=>(P.set(w,S),new Map(P)))},[]),onViewportContentRemove:c.useCallback(w=>{j(S=>S.has(w)?(S.delete(w),new Map(S)):S)},[]),children:s.jsx(fs.Provider,{scope:t,children:s.jsx(qd,{scope:t,items:v,children:i})})})},ha="NavigationMenuList",ma=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,o=be(ha,r),a=s.jsx(F.ul,{"data-orientation":o.orientation,...n,ref:t});return s.jsx(F.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange,children:s.jsx(fs.Slot,{scope:r,children:o.isRootMenu?s.jsx(ja,{asChild:!0,children:a}):a})})});ma.displayName=ha;var fa="NavigationMenuItem",[Yd,pa]=ps(fa),ga=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,...o}=e,a=Ct(),i=n||a||"LEGACY_REACT_AUTO_VALUE",l=c.useRef(null),d=c.useRef(null),m=c.useRef(null),u=c.useRef(()=>{}),h=c.useRef(!1),p=c.useCallback((b="start")=>{if(l.current){u.current();const x=qr(l.current);x.length&&vs(b==="start"?x:x.reverse())}},[]),y=c.useCallback(()=>{if(l.current){const b=qr(l.current);b.length&&(u.current=su(b))}},[]);return s.jsx(Yd,{scope:r,value:i,triggerRef:d,contentRef:l,focusProxyRef:m,wasEscapeCloseRef:h,onEntryKeyDown:p,onFocusProxyEnter:p,onRootContentClose:y,onContentFocusOutside:y,children:s.jsx(F.li,{...o,ref:t})})});ga.displayName=fa;var Br="NavigationMenuTrigger",xa=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,disabled:n,...o}=e,a=be(Br,e.__scopeNavigationMenu),i=pa(Br,e.__scopeNavigationMenu),l=c.useRef(null),d=X(l,i.triggerRef,t),m=Ca(a.baseId,i.value),u=Pa(a.baseId,i.value),h=c.useRef(!1),p=c.useRef(!1),y=i.value===a.value;return s.jsxs(s.Fragment,{children:[s.jsx(fs.ItemSlot,{scope:r,value:i.value,children:s.jsx(Sa,{asChild:!0,children:s.jsx(F.button,{id:m,disabled:n,"data-disabled":n?"":void 0,"data-state":bs(y),"aria-expanded":y,"aria-controls":u,...o,ref:d,onPointerEnter:A(e.onPointerEnter,()=>{p.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:A(e.onPointerMove,cr(()=>{n||p.current||i.wasEscapeCloseRef.current||h.current||(a.onTriggerEnter(i.value),h.current=!0)})),onPointerLeave:A(e.onPointerLeave,cr(()=>{n||(a.onTriggerLeave(),h.current=!1)})),onClick:A(e.onClick,()=>{a.onItemSelect(i.value),p.current=y}),onKeyDown:A(e.onKeyDown,b=>{const v={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];y&&b.key===v&&(i.onEntryKeyDown(),b.preventDefault())})})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx(od,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:b=>{const x=i.contentRef.current,v=b.relatedTarget,j=v===l.current,f=x==null?void 0:x.contains(v);(j||!f)&&i.onFocusProxyEnter(j?"start":"end")}}),a.viewport&&s.jsx("span",{"aria-owns":u})]})]})});xa.displayName=Br;var Xd="NavigationMenuLink",$s="navigationMenu.linkSelect",va=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,active:n,onSelect:o,...a}=e;return s.jsx(Sa,{asChild:!0,children:s.jsx(F.a,{"data-active":n?"":void 0,"aria-current":n?"page":void 0,...a,ref:t,onClick:A(e.onClick,i=>{const l=i.target,d=new CustomEvent($s,{bubbles:!0,cancelable:!0});if(l.addEventListener($s,m=>o==null?void 0:o(m),{once:!0}),ws(l,d),!d.defaultPrevented&&!i.metaKey){const m=new CustomEvent(tr,{bubbles:!0,cancelable:!0});ws(l,m)}},{checkForDefaultPrevented:!1})})})});va.displayName=Xd;var gs="NavigationMenuIndicator",ba=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=be(gs,e.__scopeNavigationMenu),a=!!o.value;return o.indicatorTrack?Za.createPortal(s.jsx(De,{present:r||a,children:s.jsx(Zd,{...n,ref:t})}),o.indicatorTrack):null});ba.displayName=gs;var Zd=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,o=be(gs,r),a=la(r),[i,l]=c.useState(null),[d,m]=c.useState(null),u=o.orientation==="horizontal",h=!!o.value;c.useEffect(()=>{var x;const b=(x=a().find(v=>v.value===o.value))==null?void 0:x.ref.current;b&&l(b)},[a,o.value]);const p=()=>{i&&m({size:u?i.offsetWidth:i.offsetHeight,offset:u?i.offsetLeft:i.offsetTop})};return Kr(i,p),Kr(o.indicatorTrack,p),d?s.jsx(F.div,{"aria-hidden":!0,"data-state":h?"visible":"hidden","data-orientation":o.orientation,...n,ref:t,style:{position:"absolute",...u?{left:0,width:d.size+"px",transform:`translateX(${d.offset}px)`}:{top:0,height:d.size+"px",transform:`translateY(${d.offset}px)`},...n.style}}):null}),St="NavigationMenuContent",ya=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=be(St,e.__scopeNavigationMenu),a=pa(St,e.__scopeNavigationMenu),i=X(a.contentRef,t),l=a.value===o.value,d={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...n};return o.viewport?s.jsx(Jd,{forceMount:r,...d,ref:i}):s.jsx(De,{present:r||l,children:s.jsx(wa,{"data-state":bs(l),...d,ref:i,onPointerEnter:A(e.onPointerEnter,o.onContentEnter),onPointerLeave:A(e.onPointerLeave,cr(o.onContentLeave)),style:{pointerEvents:!l&&o.isRootMenu?"none":void 0,...d.style}})})});ya.displayName=St;var Jd=c.forwardRef((e,t)=>{const r=be(St,e.__scopeNavigationMenu),{onViewportContentChange:n,onViewportContentRemove:o}=r;return xe(()=>{n(e.value,{ref:t,...e})},[e,t,n]),xe(()=>()=>o(e.value),[e.value,o]),null}),tr="navigationMenu.rootContentDismiss",wa=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,value:n,triggerRef:o,focusProxyRef:a,wasEscapeCloseRef:i,onRootContentClose:l,onContentFocusOutside:d,...m}=e,u=be(St,r),h=c.useRef(null),p=X(h,t),y=Ca(u.baseId,n),b=Pa(u.baseId,n),x=la(r),v=c.useRef(null),{onItemDismiss:j}=u;c.useEffect(()=>{const g=h.current;if(u.isRootMenu&&g){const w=()=>{var S;j(),l(),g.contains(document.activeElement)&&((S=o.current)==null||S.focus())};return g.addEventListener(tr,w),()=>g.removeEventListener(tr,w)}},[u.isRootMenu,e.value,o,j,l]);const f=c.useMemo(()=>{const w=x().map(_=>_.value);u.dir==="rtl"&&w.reverse();const S=w.indexOf(u.value),P=w.indexOf(u.previousValue),E=n===u.value,L=P===w.indexOf(n);if(!E&&!L)return v.current;const C=(()=>{if(S!==P){if(E&&P!==-1)return S>P?"from-end":"from-start";if(L&&S!==-1)return S>P?"to-start":"to-end"}return null})();return v.current=C,C},[u.previousValue,u.value,u.dir,x,n]);return s.jsx(ja,{asChild:!0,children:s.jsx(tn,{id:b,"aria-labelledby":y,"data-motion":f,"data-orientation":u.orientation,...m,ref:p,disableOutsidePointerEvents:!1,onDismiss:()=>{var w;const g=new Event(tr,{bubbles:!0,cancelable:!0});(w=h.current)==null||w.dispatchEvent(g)},onFocusOutside:A(e.onFocusOutside,g=>{var S;d();const w=g.target;(S=u.rootNavigationMenu)!=null&&S.contains(w)&&g.preventDefault()}),onPointerDownOutside:A(e.onPointerDownOutside,g=>{var E;const w=g.target,S=x().some(L=>{var C;return(C=L.ref.current)==null?void 0:C.contains(w)}),P=u.isRootMenu&&((E=u.viewport)==null?void 0:E.contains(w));(S||P||!u.isRootMenu)&&g.preventDefault()}),onKeyDown:A(e.onKeyDown,g=>{var P;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const E=qr(g.currentTarget),L=document.activeElement,C=E.findIndex(O=>O===L),U=g.shiftKey?E.slice(0,C).reverse():E.slice(C+1,E.length);vs(U)?g.preventDefault():(P=a.current)==null||P.focus()}}),onEscapeKeyDown:A(e.onEscapeKeyDown,g=>{i.current=!0})})})}),xs="NavigationMenuViewport",Na=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=!!be(xs,e.__scopeNavigationMenu).value;return s.jsx(De,{present:r||a,children:s.jsx(eu,{...n,ref:t})})});Na.displayName=xs;var eu=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,children:n,...o}=e,a=be(xs,r),i=X(t,a.onViewportChange),l=Kd(St,e.__scopeNavigationMenu),[d,m]=c.useState(null),[u,h]=c.useState(null),p=d?(d==null?void 0:d.width)+"px":void 0,y=d?(d==null?void 0:d.height)+"px":void 0,b=!!a.value,x=b?a.value:a.previousValue;return Kr(u,()=>{u&&m({width:u.offsetWidth,height:u.offsetHeight})}),s.jsx(F.div,{"data-state":bs(b),"data-orientation":a.orientation,...o,ref:i,style:{pointerEvents:!b&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":p,"--radix-navigation-menu-viewport-height":y,...o.style},onPointerEnter:A(e.onPointerEnter,a.onContentEnter),onPointerLeave:A(e.onPointerLeave,cr(a.onContentLeave)),children:Array.from(l.items).map(([j,{ref:f,forceMount:g,...w}])=>{const S=x===j;return s.jsx(De,{present:g||S,children:s.jsx(wa,{...w,ref:Ja(f,P=>{S&&P&&h(P)})})},j)})})}),tu="FocusGroup",ja=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,o=be(tu,r);return s.jsx(Gr.Provider,{scope:r,children:s.jsx(Gr.Slot,{scope:r,children:s.jsx(F.div,{dir:o.dir,...n,ref:t})})})}),Vs=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],ru="FocusGroupItem",Sa=c.forwardRef((e,t)=>{const{__scopeNavigationMenu:r,...n}=e,o=Wd(r),a=be(ru,r);return s.jsx(Gr.ItemSlot,{scope:r,children:s.jsx(F.button,{...n,ref:t,onKeyDown:A(e.onKeyDown,i=>{if(["Home","End",...Vs].includes(i.key)){let d=o().map(h=>h.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(i.key)&&d.reverse(),Vs.includes(i.key)){const h=d.indexOf(i.currentTarget);d=d.slice(h+1)}setTimeout(()=>vs(d)),i.preventDefault()}})})})});function qr(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vs(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}function su(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const r=t.dataset.tabindex;t.setAttribute("tabindex",r)})}}function Kr(e,t){const r=ne(t);xe(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}function bs(e){return e?"open":"closed"}function Ca(e,t){return`${e}-trigger-${t}`}function Pa(e,t){return`${e}-content-${t}`}function cr(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ea=ca,Ta=ma,nu=ga,Ra=xa,ou=va,Ia=ba,Aa=ya,ka=Na;const Ma=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ea,{ref:n,className:T("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...r,children:[t,s.jsx(Oa,{})]}));Ma.displayName=Ea.displayName;const _a=c.forwardRef(({className:e,...t},r)=>s.jsx(Ta,{ref:r,className:T("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));_a.displayName=Ta.displayName;const au=nu,iu=pr("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),lu=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ra,{ref:n,className:T(iu(),"group",e),...r,children:[t," ",s.jsx(ss,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));lu.displayName=Ra.displayName;const cu=c.forwardRef(({className:e,...t},r)=>s.jsx(Aa,{ref:r,className:T("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...t}));cu.displayName=Aa.displayName;const du=ou,Oa=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:T("absolute left-0 top-full flex justify-center"),children:s.jsx(ka,{className:T("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:r,...t})}));Oa.displayName=ka.displayName;const uu=c.forwardRef(({className:e,...t},r)=>s.jsx(Ia,{ref:r,className:T("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...t,children:s.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));uu.displayName=Ia.displayName;const Hs=[{id:"dashboard",label:"Dashboard",icon:yc,description:"Your fitness overview"},{id:"fitcraft",label:"FitCraft Coach",icon:nr,description:"AI fitness trainer chat"},{id:"workouts",label:"Workout Generator",icon:tt,description:"Create AI-powered workouts"},{id:"calendar",label:"Calendar",icon:Xn,description:"Schedule your workouts"},{id:"subscription",label:"Subscription",icon:Zn,description:"Manage your plan"}];function hu({currentPage:e,onNavigate:t}){var m,u;const{user:r,profile:n,signOut:o}=ct(),[a,i]=hn.useState(!1),l=async()=>{await o(),i(!1)},d=h=>{t(h),i(!1)};return s.jsx("nav",{className:"bg-white border-b shadow-sm sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(Ht,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Muscles AI"}),s.jsx("p",{className:"text-xs text-gray-600 -mt-1",children:"Fitness Platform"})]})]}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Ma,{children:s.jsx(_a,{className:"space-x-1",children:Hs.map(h=>{const p=h.icon,y=e===h.id;return s.jsx(au,{children:s.jsx(du,{asChild:!0,children:s.jsxs(ee,{variant:y?"default":"ghost",className:T("flex items-center space-x-2 px-3 py-2",y&&"bg-blue-500 text-white hover:bg-blue-600"),onClick:()=>t(h.id),children:[s.jsx(p,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden lg:inline",children:h.label})]})})},h.id)})})})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ae,{variant:"outline",className:"hidden sm:flex",children:((m=n==null?void 0:n.subscription_plan)==null?void 0:m.toUpperCase())||"FREE"}),s.jsxs(Ld,{children:[s.jsx(Dd,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"flex items-center space-x-2 px-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx(Lr,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"hidden sm:inline font-medium text-sm",children:(n==null?void 0:n.first_name)||(n==null?void 0:n.full_name)||((u=r==null?void 0:r.email)==null?void 0:u.split("@")[0])||"User"})]})}),s.jsxs(aa,{align:"end",className:"w-56",children:[s.jsx(ia,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(n==null?void 0:n.full_name)||"Fitness Warrior"}),s.jsx("p",{className:"text-sm text-gray-500",children:r==null?void 0:r.email})]})}),s.jsx(Wr,{}),s.jsxs(er,{onClick:()=>d("profile"),children:[s.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),s.jsxs(er,{onClick:()=>d("subscription"),children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Subscription"]}),s.jsx(Wr,{}),s.jsxs(er,{onClick:l,className:"text-red-600",children:[s.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}),s.jsx(ee,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>i(!a),children:a?s.jsx(Ic,{className:"h-5 w-5"}):s.jsx(jc,{className:"h-5 w-5"})})]})]}),a&&s.jsx("div",{className:"md:hidden border-t py-4",children:s.jsx("div",{className:"space-y-2",children:Hs.map(h=>{const p=h.icon,y=e===h.id;return s.jsxs(ee,{variant:y?"default":"ghost",className:T("w-full justify-start space-x-3 h-12",y&&"bg-blue-500 text-white hover:bg-blue-600"),onClick:()=>d(h.id),children:[s.jsx(p,{className:"h-4 w-4"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium",children:h.label}),s.jsx("p",{className:"text-xs opacity-75",children:h.description})]})]},h.id)})})})]})})}const mu=new Ti({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});function fu(){const{user:e,profile:t,loading:r}=ct(),[n,o]=c.useState("dashboard");if(c.useEffect(()=>{e&&n!=="dashboard"&&!["fitcraft","workouts","calendar","subscription","profile"].includes(n)&&o("dashboard")},[e,n]),r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsx($,{className:"w-full max-w-md mx-4",children:s.jsxs(B,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Re,{className:"h-6 w-6 text-white animate-spin"})}),s.jsx(q,{children:"Muscles AI Fitness"}),s.jsx(re,{children:"Loading your fitness journey..."})]})})});if(!e)return s.jsx(Ac,{});c.useEffect(()=>{(async()=>{const l=window.location.hash;l&&l.length>0&&window.history.replaceState({},document.title,window.location.pathname)})()},[]);const a=()=>{switch(n){case"dashboard":return s.jsx(zs,{onNavigate:o});case"fitcraft":return s.jsx(sd,{});case"workouts":return s.jsx(Od,{});case"subscription":return s.jsx(Fd,{});case"calendar":return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs($,{className:"w-full max-w-md mx-4",children:[s.jsxs(B,{className:"text-center",children:[s.jsx(q,{children:"Calendar Integration"}),s.jsx(re,{children:"Coming soon! Schedule and sync your workouts with your calendar."})]}),s.jsx(Y,{className:"text-center",children:s.jsx(ee,{onClick:()=>o("dashboard"),variant:"outline",children:"Back to Dashboard"})})]})});case"profile":return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs($,{className:"w-full max-w-md mx-4",children:[s.jsxs(B,{className:"text-center",children:[s.jsx(q,{children:"Profile Settings"}),s.jsx(re,{children:"Customize your fitness profile and preferences."})]}),s.jsx(Y,{className:"text-center",children:s.jsx(ee,{onClick:()=>o("dashboard"),variant:"outline",children:"Back to Dashboard"})})]})});default:return s.jsx(zs,{onNavigate:o})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(hu,{currentPage:n,onNavigate:o}),s.jsx("main",{children:a()})]})}function pu(){return s.jsx(Ii,{client:mu,children:s.jsxs(wl,{children:[s.jsx(fu,{}),s.jsx(vl,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});oi.createRoot(document.getElementById("root")).render(s.jsx(hn.StrictMode,{children:s.jsx(pu,{})}));
